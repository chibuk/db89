var He=Object.defineProperty;var De=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O=(t,e,n)=>(De(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $(){}function Ie(t,e){for(const n in e)t[n]=e[n];return t}function Le(t){return t()}function ge(){return Object.create(null)}function V(t){t.forEach(Le)}function ze(t){return typeof t=="function"}function S(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Fe(t){return Object.keys(t).length===0}function Be(t,e,n,l){if(t){const s=Se(t,e,n,l);return t[0](s)}}function Se(t,e,n,l){return t[1]&&l?Ie(n.ctx.slice(),t[1](l(e))):n.ctx}function Re(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],c=Math.max(e.dirty.length,s.length);for(let r=0;r<c;r+=1)i[r]=e.dirty[r]|s[r];return i}return e.dirty|s}return e.dirty}function Xe(t,e,n,l,s,i){if(s){const c=Se(e,n,l,i);t.p(c,s)}}function Je(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function y(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function Ke(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function N(){return G(" ")}function z(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ue(t){return Array.from(t.childNodes)}function de(t,e){e=""+e,t.data!==e&&(t.data=e)}function q(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function se(t,e,n){t.classList.toggle(e,!!n)}function Ve(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}class Ge{constructor(e=!1){O(this,"is_svg",!1);O(this,"e");O(this,"n");O(this,"t");O(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Ke(n.nodeName):this.e=v(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)x(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}let Z;function W(t){Z=t}function fe(){if(!Z)throw new Error("Function called outside component initialization");return Z}function Qe(t){fe().$$.on_mount.push(t)}function We(t){fe().$$.on_destroy.push(t)}function he(){const t=fe();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Ve(e,n,{cancelable:l});return s.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}const R=[],M=[];let K=[];const ce=[],Ye=Promise.resolve();let re=!1;function Ze(){re||(re=!0,Ye.then(Oe))}function ue(t){K.push(t)}function X(t){ce.push(t)}const ae=new Set;let F=0;function Oe(){if(F!==0)return;const t=Z;do{try{for(;F<R.length;){const e=R[F];F++,W(e),et(e.$$)}}catch(e){throw R.length=0,F=0,e}for(W(null),R.length=0,F=0;M.length;)M.pop()();for(let e=0;e<K.length;e+=1){const n=K[e];ae.has(n)||(ae.add(n),n())}K.length=0}while(R.length);for(;ce.length;)ce.pop()();re=!1,ae.clear(),W(t)}function et(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}function tt(t){const e=[],n=[];K.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),K=e}const ne=new Set;let nt;function A(t,e){t&&t.i&&(ne.delete(t),t.i(e))}function H(t,e,n,l){if(t&&t.o){if(ne.has(t))return;ne.add(t),nt.c.push(()=>{ne.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function j(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function J(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function U(t){t&&t.c()}function D(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),ue(()=>{const i=t.$$.on_mount.map(Le).filter(ze);t.$$.on_destroy?t.$$.on_destroy.push(...i):V(i),t.$$.on_mount=[]}),s.forEach(ue)}function I(t,e){const n=t.$$;n.fragment!==null&&(tt(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(R.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(t,e,n,l,s,i,c,r=[-1]){const p=Z;W(t);const o=t.$$={fragment:null,ctx:[],props:i,update:$,not_equal:s,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:ge(),dirty:r,skip_bound:!1,root:e.target||p.$$.root};c&&c(o.root);let k=!1;if(o.ctx=n?n(t,e.props||{},(f,a,...d)=>{const g=d.length?d[0]:a;return o.ctx&&s(o.ctx[f],o.ctx[f]=g)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](g),k&&lt(t,f)),a}):[],o.update(),k=!0,V(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const f=Ue(e.target);o.fragment&&o.fragment.l(f),f.forEach(E)}else o.fragment&&o.fragment.c();e.intro&&A(t.$$.fragment),D(t,e.target,e.anchor),Oe()}W(p)}class C{constructor(){O(this,"$$");O(this,"$$set")}$destroy(){I(this,1),this.$destroy=$}$on(e,n){if(!ze(n))return $;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Fe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);function it(t){let e,n,l,s,i,c,r;return{c(){e=v("div"),n=new Ge(!1),l=G("  "),s=v("button"),n.a=l,m(s,"class","delete"),m(e,"id",ot),m(e,"class",i="notification "+t[2]),q(e,"opacity",t[3]),q(e,"position","fixed"),q(e,"bottom","3rem"),q(e,"right","3rem"),q(e,"font-size","1rem"),q(e,"display",t[0])},m(p,o){x(p,e,o),n.m(t[1],e),y(e,l),y(e,s),c||(r=z(s,"click",t[4]),c=!0)},p(p,[o]){o&2&&n.p(p[1]),o&4&&i!==(i="notification "+p[2])&&m(e,"class",i),o&8&&q(e,"opacity",p[3]),(o&8||o&9)&&q(e,"display",p[0])},i:$,o:$,d(p){p&&E(e),c=!1,r()}}}const ot="svelt-notyfycation";function at(t,e,n){let{text:l="Test text"}=e,{add_class:s="is-warning"}=e,{display:i="none"}=e;const c=()=>{let o;return s.includes("is-danger")||s.includes("is-warning")?o=.5:o=.4,o};let r=c();const p=()=>n(0,i="none");return t.$$set=o=>{"text"in o&&n(1,l=o.text),"add_class"in o&&n(2,s=o.add_class),"display"in o&&n(0,i=o.display)},t.$$.update=()=>{t.$$.dirty&1&&i=="block"&&n(3,r=c())},[i,l,s,r,p]}class ct extends C{constructor(e){super(),P(this,e,at,it,S,{text:1,add_class:2,display:0})}}const B=[];function rt(t,e=$){let n;const l=new Set;function s(r){if(S(t,r)&&(t=r,n)){const p=!B.length;for(const o of l)o[1](),B.push(o,t);if(p){for(let o=0;o<B.length;o+=2)B[o][0](B[o+1]);B.length=0}}}function i(r){s(r(t))}function c(r,p=$){const o=[r,p];return l.add(o),l.size===1&&(n=e(s,i)||$),r(t),()=>{l.delete(o),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:c}}const ie=rt(!1);function ut(t){let e,n,l,s,i,c,r,p,o,k,f;return{c(){e=v("div"),n=v("div"),l=N(),s=v("div"),i=v("form"),c=v("div"),r=v("div"),p=N(),o=v("div"),o.innerHTML='<p class="control"><button type="submit" class="button is-success svelte-1vm7l7d" title="Подтвердить"><span class="icon is-small"><i class="fa-light fa-check"></i></span><span>Да</span></button></p> <p class="control"><button type="reset" class="button is-danger is-outlined svelte-1vm7l7d" title="Отменить"><span class="icon is-small"><i class="fa-light fa-xmark"></i></span><span>Нет</span></button></p>',m(n,"class","modal-background"),m(r,"class","container content"),m(o,"class","field is-grouped is-grouped-centered"),m(c,"class","message-body"),m(i,"class","message is-warning"),m(s,"class","modal-content"),m(e,"class","modal"),se(e,"is-active",t[0])},m(a,d){x(a,e,d),y(e,n),y(e,l),y(e,s),y(s,i),y(i,c),y(c,r),r.innerHTML=t[1],y(c,p),y(c,o),k||(f=[z(n,"click",t[3]),z(i,"submit",Y(t[2])),z(i,"reset",Y(t[3]))],k=!0)},p(a,[d]){d&2&&(r.innerHTML=a[1]),d&1&&se(e,"is-active",a[0])},i:$,o:$,d(a){a&&E(e),k=!1,V(f)}}}let be="modalevent";function dt(t,e,n){const l=he();let{htmldata:s="Sample modal data"}=e,{active:i=!1}=e,c=!1;const r=()=>{c=!0,n(0,i=!1),l(be,c)},p=()=>{c=!1,n(0,i=!1),l(be,c)};return t.$$set=o=>{"htmldata"in o&&n(1,s=o.htmldata),"active"in o&&n(0,i=o.active)},[i,s,r,p]}class ft extends C{constructor(e){super(),P(this,e,dt,ut,S,{htmldata:1,active:0})}}function ht(t){let e,n,l,s,i,c,r,p,o;function k(a){t[4](a)}let f={htmldata:mt};return t[1]!==void 0&&(f.active=t[1]),i=new ft({props:f}),M.push(()=>J(i,"active",k)),i.$on("modalevent",t[3]),{c(){e=v("button"),n=v("i"),s=N(),U(i.$$.fragment),m(n,"class","fa-light fa-trash-xmark"),m(e,"type","submit"),m(e,"class","button is-link is-outlined mt-1 ml-2"),e.disabled=l=!t[0],m(e,"title","Удалить отмеченные")},m(a,d){x(a,e,d),y(e,n),x(a,s,d),D(i,a,d),r=!0,p||(o=z(e,"click",Y(t[2])),p=!0)},p(a,[d]){(!r||d&1&&l!==(l=!a[0]))&&(e.disabled=l);const g={};!c&&d&2&&(c=!0,g.active=a[1],X(()=>c=!1)),i.$set(g)},i(a){r||(A(i.$$.fragment,a),r=!0)},o(a){H(i.$$.fragment,a),r=!1},d(a){a&&(E(e),E(s)),I(i,a),p=!1,o()}}}let mt="<p>Удаление <span class='has-text-danger-dark'>необратимо</span>! Удалить?</p>";const _t="notification";function pt(t,e,n){const l=document.querySelector("[name=csrfmiddlewaretoken]").value,s="https://"+document.domain+app.dataset.api;let i=!1;const c=he();let{disabled:r=!0}=e,p=ie.subscribe(_=>n(0,r=_));We(p);const o={add_class:"is-danger",text:"Не удалось удалить:"};let k=null;const f=_=>{k=_.currentTarget,n(1,i=!0)};async function a(_){if(!_.detail)return;const h=k.parentElement;let b="";const u=new FormData(h);for(let T of u.values())b+=await d(T);if(c("updatetable"),b){let T={...o};T.text+=b,c(_t,T)}ie.update(T=>!1)}const d=async _=>{try{const h=await fetch(`${s}${_}/`,{method:"delete",headers:{"X-CSRFToken":l}});return h.ok?"":`<br> id: ${_}, ${h.status} - ${h.statusText}`}catch(h){return`<br> id: ${_}, ${h.message}`}};function g(_){i=_,n(1,i)}return t.$$set=_=>{"disabled"in _&&n(0,r=_.disabled)},[r,i,f,a,g]}class gt extends C{constructor(e){super(),P(this,e,pt,ht,S,{disabled:0})}}function ye(t,e,n){const l=t.slice();return l[13]=e[n],l}function bt(t){let e;return{c(){e=v("input"),m(e,"class","input"),m(e,"type",t[13].text),m(e,"name",t[13].name),m(e,"placeholder",t[13].placeholder),m(e,"maxlength",t[13].maxlength)},m(n,l){x(n,e,l)},p:$,d(n){n&&E(e)}}}function yt(t){let e,n,l;return{c(){e=v("input"),m(e,"class","input"),m(e,"type",t[13].text),m(e,"name",t[13].name),m(e,"placeholder",t[13].placeholder),m(e,"maxlength",t[13].maxlength)},m(s,i){x(s,e,i),n||(l=z(e,"input",t[5]),n=!0)},p:$,d(s){s&&E(e),n=!1,l()}}}function vt(t){let e,n,l;return{c(){e=v("input"),m(e,"class","input"),m(e,"type",t[13].text),m(e,"name",t[13].name),m(e,"placeholder",t[13].placeholder),m(e,"maxlength",t[13].maxlength)},m(s,i){x(s,e,i),n||(l=z(e,"input",t[4]),n=!0)},p:$,d(s){s&&E(e),n=!1,l()}}}function ve(t){let e,n;function l(c,r){return c[13].name=="name"?vt:c[13].name=="inn"?yt:bt}let i=l(t)(t);return{c(){e=v("div"),n=v("div"),i.c(),m(n,"class","control"),m(e,"class","field")},m(c,r){x(c,e,r),y(e,n),i.m(n,null)},p(c,r){i.p(c,r)},d(c){c&&E(e),i.d()}}}function kt(t){let e,n,l,s,i,c,r,p,o,k,f=j(t[1]),a=[];for(let d=0;d<f.length;d+=1)a[d]=ve(ye(t,f,d));return{c(){e=v("form");for(let d=0;d<a.length;d+=1)a[d].c();n=N(),l=v("div"),s=v("div"),i=v("button"),c=G("Сохранить"),r=N(),p=v("div"),p.innerHTML='<button type="reset" class="button is-fullwidth">Очистить</button>',m(i,"type","submit"),m(i,"class","button is-link is-fullwidth"),i.disabled=t[0],m(s,"class","control is-expanded"),m(p,"class","control is-expanded"),m(l,"class","field is-grouped is-grouped-centered"),m(e,"method","post"),m(e,"class","box"),m(e,"id","organizationform")},m(d,g){x(d,e,g);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);y(e,n),y(e,l),y(l,s),y(s,i),y(i,c),y(l,r),y(l,p),o||(k=[z(e,"submit",Y(t[2])),z(e,"reset",t[3])],o=!0)},p(d,[g]){if(g&50){f=j(d[1]);let _;for(_=0;_<f.length;_+=1){const h=ye(d,f,_);a[_]?a[_].p(h,g):(a[_]=ve(h),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=f.length}g&1&&(i.disabled=d[0])},i:$,o:$,d(d){d&&E(e),le(a,d),o=!1,V(k)}}}const wt="notification";function Tt(t,e,n){const l=he(),s={add_class:"is-danger",text:"Не удалось сохранить: <br>"},i=[{name:"name",placeholder:"Название организации",type:"text",maxlength:50},{name:"address",placeholder:"Адрес",type:"text",maxlength:256},{name:"inn",placeholder:"ИНН",type:"text",maxlength:10},{name:"kpp",placeholder:"КПП",type:"text",maxlength:9},{name:"ogrn",placeholder:"ОГРН",type:"text",maxlength:15},{name:"bank",placeholder:"Наименование банка",type:"text",maxlength:150},{name:"bik",placeholder:"БИК",type:"text",maxlength:9},{name:"pay_acount",placeholder:"Расчетный счет",type:"text",maxlength:20},{name:"kor_acount",placeholder:"Корр. счет",type:"text",maxlength:20},{name:"phone",placeholder:"Номера телефонов",type:"text",maxlength:40},{name:"email",placeholder:"Email",type:"email",maxlength:254}],c="https://"+document.domain+app.dataset.api,r=document.querySelector("[name=csrfmiddlewaretoken]").value,p=async function(h){try{const b=await fetch(c,{method:"post",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:h});if(b.ok)return l("updatetable"),!0;throw new Error(`${b.status} - ${b.statusText}`)}catch(b){let u={...s};return u.text=b.message,l(wt,u),!1}},o=async h=>{let b=h.currentTarget;const u=new FormData(b);let T=JSON.stringify(Object.fromEntries(u.entries()));await p(T)&&b.reset()},k=()=>{n(6,a=""),n(7,g="")};let f=!0,a="";function d(h){n(6,a=h.currentTarget.value)}let g="";function _(h){n(7,g=h.currentTarget.value)}return t.$$.update=()=>{t.$$.dirty&192&&n(0,f=!(g.length==10&&a.length>3))},[f,i,o,k,d,_,a,g]}class Et extends C{constructor(e){super(),P(this,e,Tt,kt,S,{})}}function xt(t){let e,n,l,s,i,c,r,p,o;const k=t[4].default,f=Be(k,t,t[3],null);return{c(){e=v("div"),n=v("div"),l=N(),s=v("div"),f&&f.c(),i=N(),c=v("button"),m(n,"class","modal-background"),m(s,"class","modal-content"),m(s,"style",t[2]),m(c,"class","modal-close is-large"),m(c,"aria-label","close"),m(e,"class","modal"),m(e,"style",t[1]),se(e,"is-active",t[0])},m(a,d){x(a,e,d),y(e,n),y(e,l),y(e,s),f&&f.m(s,null),y(e,i),y(e,c),r=!0,p||(o=z(c,"click",t[5]),p=!0)},p(a,[d]){f&&f.p&&(!r||d&8)&&Xe(f,k,a,a[3],r?Re(k,a[3],d,null):Je(a[3]),null),(!r||d&4)&&m(s,"style",a[2]),(!r||d&2)&&m(e,"style",a[1]),(!r||d&1)&&se(e,"is-active",a[0])},i(a){r||(A(f,a),r=!0)},o(a){H(f,a),r=!1},d(a){a&&E(e),f&&f.d(a),p=!1,o()}}}function $t(t,e,n){let{$$slots:l={},$$scope:s}=e,{active:i=!1}=e,{modal_style:c=""}=e,{content_style:r=""}=e;const p=()=>n(0,i=!1);return t.$$set=o=>{"active"in o&&n(0,i=o.active),"modal_style"in o&&n(1,c=o.modal_style),"content_style"in o&&n(2,r=o.content_style),"$$scope"in o&&n(3,s=o.$$scope)},[i,c,r,s,l,p]}class Nt extends C{constructor(e){super(),P(this,e,$t,xt,S,{active:0,modal_style:1,content_style:2})}}function ke(t,e,n){const l=t.slice();l[8]=e[n];const s=Object.values(l[8]);return l[9]=s,l}function we(t,e,n){const l=t.slice();return l[12]=e[n],l}function Te(t,e,n){const l=t.slice();return l[15]=e[n],l}function Ee(t){let e,n=t[5](t[15])+"",l;return{c(){e=v("th"),l=G(n),m(e,"class","has-text-grey svelte-eq39z8")},m(s,i){x(s,e,i),y(e,l)},p(s,i){i&1&&n!==(n=s[5](s[15])+"")&&de(l,n)},d(s){s&&E(e)}}}function xe(t){let e,n=t[12]+"",l;return{c(){e=v("td"),l=G(n),m(e,"class","svelte-eq39z8")},m(s,i){x(s,e,i),y(e,l)},p(s,i){i&1&&n!==(n=s[12]+"")&&de(l,n)},d(s){s&&E(e)}}}function $e(t){let e,n,l,s,i,c,r,p=t[9][1]+"",o,k,f,a,d,g,_=j(t[9].slice(2)),h=[];for(let b=0;b<_.length;b+=1)h[b]=xe(we(t,_,b));return{c(){e=v("tr"),n=v("td"),l=v("input"),i=N(),c=v("td"),r=v("a"),o=G(p),f=N();for(let b=0;b<h.length;b+=1)h[b].c();a=N(),m(l,"type","checkbox"),m(l,"name",t[2]),l.value=s=t[9][0],m(n,"class","svelte-eq39z8"),m(r,"href",k=""+(t[1]+t[9][0])),m(r,"class","svelte-eq39z8"),m(c,"class","svelte-eq39z8")},m(b,u){x(b,e,u),y(e,n),y(n,l),y(e,i),y(e,c),y(c,r),y(r,o),y(e,f);for(let T=0;T<h.length;T+=1)h[T]&&h[T].m(e,null);y(e,a),d||(g=z(l,"change",t[3]),d=!0)},p(b,u){if(u&4&&m(l,"name",b[2]),u&1&&s!==(s=b[9][0])&&(l.value=s),u&1&&p!==(p=b[9][1]+"")&&de(o,p),u&3&&k!==(k=""+(b[1]+b[9][0]))&&m(r,"href",k),u&1){_=j(b[9].slice(2));let T;for(T=0;T<_.length;T+=1){const Q=we(b,_,T);h[T]?h[T].p(Q,u):(h[T]=xe(Q),h[T].c(),h[T].m(e,a))}for(;T<h.length;T+=1)h[T].d(1);h.length=_.length}},d(b){b&&E(e),le(h,b),d=!1,g()}}}function Lt(t){let e,n,l,s,i,c,r,p,o,k,f,a=j(Object.keys(t[0][0]).slice(1)),d=[];for(let h=0;h<a.length;h+=1)d[h]=Ee(Te(t,a,h));let g=j(t[0]),_=[];for(let h=0;h<g.length;h+=1)_[h]=$e(ke(t,g,h));return{c(){e=v("div"),n=v("table"),l=v("thead"),s=v("tr"),i=v("th"),c=v("input"),r=N();for(let h=0;h<d.length;h+=1)d[h].c();p=N(),o=v("tbody");for(let h=0;h<_.length;h+=1)_[h].c();m(c,"type","checkbox"),m(c,"id",qe),m(i,"class","svelte-eq39z8"),m(n,"class","table is-hoverable is-striped has-background-white-ter"),m(e,"class","svelte-eq39z8")},m(h,b){x(h,e,b),y(e,n),y(n,l),y(l,s),y(s,i),y(i,c),y(s,r);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(s,null);y(n,p),y(n,o);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(o,null);k||(f=z(c,"change",t[4]),k=!0)},p(h,[b]){if(b&33){a=j(Object.keys(h[0][0]).slice(1));let u;for(u=0;u<a.length;u+=1){const T=Te(h,a,u);d[u]?d[u].p(T,b):(d[u]=Ee(T),d[u].c(),d[u].m(s,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=a.length}if(b&15){g=j(h[0]);let u;for(u=0;u<g.length;u+=1){const T=ke(h,g,u);_[u]?_[u].p(T,b):(_[u]=$e(T),_[u].c(),_[u].m(o,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=g.length}},i:$,o:$,d(h){h&&E(e),le(d,h),le(_,h),k=!1,f()}}}const Ne="has-background-warning-light",qe="tablegen-all";function zt(t,e,n){let{table_content:l=[]}=e,{href:s="/item/"}=e,{checkbox_name:i="id"}=e;const c=new Set;function r(f){let a=f.currentTarget;p(a)}const p=f=>{f.checked?(c.add(f.value),ie.update(a=>!0),f.parentNode.parentNode.classList.add(Ne)):(document.querySelector(`#${qe}`).checked=!1,c.delete(f.value),c.size==0&&ie.update(a=>!1),f.parentNode.parentNode.classList.remove(Ne))},o=f=>{let a=f.currentTarget,d=document.getElementsByName(i);if(a.checked)for(let g of d)g.checked=!0,p(g);else for(let g of d)g.checked=!1,p(g)},k=f=>{const a={name:"Наименование",address:"Адрес",inn:"ИНН",kpp:"КПП",ogrn:"ОГРН",bank:"Банк",bik:"БИК",pay_acount:"Номер счёта",kor_acount:"Корр. счёт",phone:"Телефон",number:"Номер",data:"Дата",city:"Город",truck:"Номер машины",spec_notes:"Особые отметки",destination_address:"Адрес назначения",text:"Условия договора",sender:"Отправитель",receiver:"Получатель",payer:"Плательщик"};return a[f]?a[f]:f};return t.$$set=f=>{"table_content"in f&&n(0,l=f.table_content),"href"in f&&n(1,s=f.href),"checkbox_name"in f&&n(2,i=f.checkbox_name)},[l,s,i,r,o,k]}class St extends C{constructor(e){super(),P(this,e,zt,Lt,S,{table_content:0,href:1,checkbox_name:2})}}function Ot(t){let e,n;return e=new Et({}),e.$on("updatetable",t[4]),e.$on("notification",t[5]),{c(){U(e.$$.fragment)},m(l,s){D(e,l,s),n=!0},p:$,i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function qt(t){let e,n,l,s,i,c,r,p,o,k,f,a,d,g,_,h,b,u,T,Q;function Me(w){t[6](w)}let me={$$slots:{default:[Ot]},$$scope:{ctx:t}};t[2]!==void 0&&(me.active=t[2]),e=new Nt({props:me}),M.push(()=>J(e,"active",Me));function je(w){t[7](w)}let _e={};t[1]!==void 0&&(_e.disabled=t[1]),o=new gt({props:_e}),M.push(()=>J(o,"disabled",je)),o.$on("notification",t[5]),o.$on("updatetable",t[4]);function Ae(w){t[9](w)}function Pe(w){t[10](w)}function Ce(w){t[11](w)}let ee={};return t[0].dispaly!==void 0&&(ee.display=t[0].dispaly),t[0].text!==void 0&&(ee.text=t[0].text),t[0].add_class!==void 0&&(ee.add_class=t[0].add_class),g=new ct({props:ee}),M.push(()=>J(g,"display",Ae)),M.push(()=>J(g,"text",Pe)),M.push(()=>J(g,"add_class",Ce)),{c(){U(e.$$.fragment),l=N(),s=v("h4"),s.textContent="Список организаций",i=N(),c=v("form"),r=v("div"),p=N(),U(o.$$.fragment),f=N(),a=v("button"),a.innerHTML='<i class="fa-light fa-plus"></i>',d=N(),U(g.$$.fragment),m(s,"class","title is-4 pl-4 pt-5"),m(r,"id",t[3]),m(a,"class","button is-link is-outlined mt-1")},m(w,L){D(e,w,L),x(w,l,L),x(w,s,L),x(w,i,L),x(w,c,L),y(c,r),y(c,p),D(o,c,null),y(c,f),y(c,a),x(w,d,L),D(g,w,L),u=!0,T||(Q=z(a,"click",Y(t[8])),T=!0)},p(w,[L]){const oe={};L&32768&&(oe.$$scope={dirty:L,ctx:w}),!n&&L&4&&(n=!0,oe.active=w[2],X(()=>n=!1)),e.$set(oe);const pe={};!k&&L&2&&(k=!0,pe.disabled=w[1],X(()=>k=!1)),o.$set(pe);const te={};!_&&L&1&&(_=!0,te.display=w[0].dispaly,X(()=>_=!1)),!h&&L&1&&(h=!0,te.text=w[0].text,X(()=>h=!1)),!b&&L&1&&(b=!0,te.add_class=w[0].add_class,X(()=>b=!1)),g.$set(te)},i(w){u||(A(e.$$.fragment,w),A(o.$$.fragment,w),A(g.$$.fragment,w),u=!0)},o(w){H(e.$$.fragment,w),H(o.$$.fragment,w),H(g.$$.fragment,w),u=!1},d(w){w&&(E(l),E(s),E(i),E(c),E(d)),I(e,w),I(o),I(g,w),T=!1,Q()}}}const Mt="/organization/";function jt(t,e){return t.id<e.id?1:t.id>e.id?-1:0}function At(t,e,n){const l={text:"",dispaly:"none",add_class:""};let s=!0,i=!1;const c="https://"+document.domain+app.dataset.api;let r,p=[];const o="tablegen_"+Math.round(Math.random()*1e4),k=async()=>{p=await fetch(c).then(u=>u.json()),r==null||r.$destroy(),r=new St({target:document.getElementById(o),props:{table_content:p.sort(jt),href:Mt,checkbox_name:"id"}})},f=u=>{n(0,l.text=u.detail.text,l),n(0,l.add_class=u.detail.add_class,l),n(0,l.dispaly="block",l),setTimeout(()=>{n(0,l.dispaly="none",l)},1e4)};Qe(k),document.querySelector("#navbar-item-organizations").classList.add("is-active");function a(u){i=u,n(2,i)}function d(u){s=u,n(1,s)}const g=()=>n(2,i=!0);function _(u){t.$$.not_equal(l.dispaly,u)&&(l.dispaly=u,n(0,l))}function h(u){t.$$.not_equal(l.text,u)&&(l.text=u,n(0,l))}function b(u){t.$$.not_equal(l.add_class,u)&&(l.add_class=u,n(0,l))}return[l,s,i,o,k,f,a,d,g,_,h,b]}class Pt extends C{constructor(e){super(),P(this,e,At,qt,S,{})}}function Ct(t){let e,n;return e=new Pt({}),{c(){U(e.$$.fragment)},m(l,s){D(e,l,s),n=!0},p:$,i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}class Ht extends C{constructor(e){super(),P(this,e,null,Ct,S,{})}}new Ht({target:document.getElementById("app")});
