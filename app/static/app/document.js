var El=Object.defineProperty;var Nl=(e,t,l)=>t in e?El(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var Oe=(e,t,l)=>(Nl(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function re(){}const Hl=e=>e;function Ye(e,t){for(const l in t)e[l]=t[l];return e}function gl(e){return e()}function At(){return Object.create(null)}function ge(e){e.forEach(gl)}function Mt(e){return typeof e=="function"}function de(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Yl(e){return Object.keys(e).length===0}function Il(e,...t){if(e==null){for(const n of t)n(void 0);return re}const l=e.subscribe(...t);return l.unsubscribe?()=>l.unsubscribe():l}function Ft(e,t,l){e.$$.on_destroy.push(Il(t,l))}function et(e,t,l,n){if(e){const s=bl(e,t,l,n);return e[0](s)}}function bl(e,t,l,n){return e[1]&&n?Ye(l.ctx.slice(),e[1](n(t))):l.ctx}function tt(e,t,l,n){if(e[2]&&n){const s=e[2](n(l));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(t.dirty.length,s.length);for(let a=0;a<r;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function lt(e,t,l,n,s,i){if(s){const r=bl(t,l,n,i);e.p(r,s)}}function nt(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}function pl(e){const t={};for(const l in e)l[0]!=="$"&&(t[l]=e[l]);return t}function ot(e,t){const l={};t=new Set(t);for(const n in e)!t.has(n)&&n[0]!=="$"&&(l[n]=e[n]);return l}function zl(e){const t={};for(const l in e)t[l]=!0;return t}function Ot(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const vl=typeof window<"u";let ql=vl?()=>window.performance.now():()=>Date.now(),Tt=vl?e=>requestAnimationFrame(e):re;const Re=new Set;function yl(e){Re.forEach(t=>{t.c(e)||(Re.delete(t),t.f())}),Re.size!==0&&Tt(yl)}function jl(e){let t;return Re.size===0&&Tt(yl),{promise:new Promise(l=>{Re.add(t={c:e,f:l})}),abort(){Re.delete(t)}}}function c(e,t){e.appendChild(t)}function wl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Pl(e){const t=y("style");return t.textContent="/* empty */",Cl(wl(e),t),t.sheet}function Cl(e,t){return c(e.head||e,t),t.sheet}function P(e,t,l){e.insertBefore(t,l||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function y(e){return document.createElement(e)}function Ge(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function he(e){return document.createTextNode(e)}function E(){return he(" ")}function Lt(){return he("")}function z(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function Ie(e){return function(t){return t.preventDefault(),e.call(this,t)}}function m(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}const Rl=["width","height"];function Et(e,t){const l=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:l[n]&&l[n].set&&Rl.indexOf(n)===-1?e[n]=t[n]:m(e,n,t[n])}function Wl(e){return Array.from(e.childNodes)}function be(e,t){t=""+t,e.data!==t&&(e.data=t)}function ke(e,t){e.value=t??""}function st(e,t,l){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t){s.selected=!0;return}}(!l||t!==void 0)&&(e.selectedIndex=-1)}function X(e,t,l){e.classList.toggle(t,!!l)}function kl(e,t,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:l,cancelable:n})}class Kl{constructor(t=!1){Oe(this,"is_svg",!1);Oe(this,"e");Oe(this,"n");Oe(this,"t");Oe(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,l,n=null){this.e||(this.is_svg?this.e=Ge(l.nodeName):this.e=y(l.nodeType===11?"TEMPLATE":l.nodeName),this.t=l.tagName!=="TEMPLATE"?l:l.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let l=0;l<this.n.length;l+=1)P(this.t,this.n[l],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(I)}}const at=new Map;let ut=0;function Ul(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function Jl(e,t){const l={stylesheet:Pl(t),rules:{}};return at.set(e,l),l}function Nt(e,t,l,n,s,i,r,a=0){const o=16.666/n;let u=`{
`;for(let g=0;g<=1;g+=o){const v=t+(l-t)*i(g);u+=g*100+`%{${r(v,1-v)}}
`}const k=u+`100% {${r(l,1-l)}}
}`,_=`__svelte_${Ul(k)}_${a}`,p=wl(e),{stylesheet:d,rules:b}=at.get(p)||Jl(p,e);b[_]||(b[_]=!0,d.insertRule(`@keyframes ${_} ${k}`,d.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${_} ${n}ms linear ${s}ms 1 both`,ut+=1,_}function Bl(e,t){const l=(e.style.animation||"").split(", "),n=l.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),s=l.length-n.length;s&&(e.style.animation=n.join(", "),ut-=s,ut||Vl())}function Vl(){Tt(()=>{ut||(at.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&I(t)}),at.clear())})}let Ze;function Qe(e){Ze=e}function ht(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function mt(e){ht().$$.on_mount.push(e)}function Sl(e){ht().$$.after_update.push(e)}function Xl(e){ht().$$.on_destroy.push(e)}function Ue(){const e=ht();return(t,l,{cancelable:n=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=kl(t,l,{cancelable:n});return s.slice().forEach(r=>{r.call(e,i)}),!i.defaultPrevented}return!0}}function ie(e,t){const l=e.$$.callbacks[t.type];l&&l.slice().forEach(n=>n.call(this,t))}const Ce=[],ye=[];let We=[];const wt=[],Dl=Promise.resolve();let kt=!1;function Ml(){kt||(kt=!0,Dl.then(Tl))}function Gl(){return Ml(),Dl}function xe(e){We.push(e)}function ze(e){wt.push(e)}const _t=new Set;let je=0;function Tl(){if(je!==0)return;const e=Ze;do{try{for(;je<Ce.length;){const t=Ce[je];je++,Qe(t),Ql(t.$$)}}catch(t){throw Ce.length=0,je=0,t}for(Qe(null),Ce.length=0,je=0;ye.length;)ye.pop()();for(let t=0;t<We.length;t+=1){const l=We[t];_t.has(l)||(_t.add(l),l())}We.length=0}while(Ce.length);for(;wt.length;)wt.pop()();kt=!1,_t.clear(),Qe(e)}function Ql(e){if(e.fragment!==null){e.update(),ge(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xe)}}function Zl(e){const t=[],l=[];We.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),We=t}let Ve;function xl(){return Ve||(Ve=Promise.resolve(),Ve.then(()=>{Ve=null})),Ve}function gt(e,t,l){e.dispatchEvent(kl(`${t?"intro":"outro"}${l}`))}const rt=new Set;let Le;function ct(){Le={r:0,c:[],p:Le}}function ft(){Le.r||ge(Le.c),Le=Le.p}function C(e,t){e&&e.i&&(rt.delete(e),e.i(t))}function G(e,t,l,n){if(e&&e.o){if(rt.has(e))return;rt.add(e),Le.c.push(()=>{rt.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}const $l={duration:0};function Ht(e,t,l,n){let i=t(e,l,{direction:"both"}),r=n?0:1,a=null,o=null,u=null,k;function _(){u&&Bl(e,u)}function p(b,h){const g=b.b-r;return h*=Math.abs(g),{a:r,b:b.b,d:g,duration:h,start:b.start,end:b.start+h,group:b.group}}function d(b){const{delay:h=0,duration:g=300,easing:v=Hl,tick:S=re,css:D}=i||$l,L={start:ql()+h,b};b||(L.group=Le,Le.r+=1),"inert"in e&&(b?k!==void 0&&(e.inert=k):(k=e.inert,e.inert=!0)),a||o?o=L:(D&&(_(),u=Nt(e,r,b,g,h,v,D)),b&&S(0,1),a=p(L,g),xe(()=>gt(e,b,"start")),jl(T=>{if(o&&T>o.start&&(a=p(o,g),o=null,gt(e,a.b,"start"),D&&(_(),u=Nt(e,r,a.b,a.duration,0,v,i.css))),a){if(T>=a.end)S(r=a.b,1-r),gt(e,a.b,"end"),o||(a.b?_():--a.group.r||ge(a.group.c)),a=null;else if(T>=a.start){const O=T-a.start;r=a.a+a.d*v(O/a.duration),S(r,1-r)}}return!!(a||o)}))}return{run(b){Mt(i)?xl().then(()=>{i=i({direction:b?"in":"out"}),d(b)}):d(b)},end(){_(),a=o=null}}}function ne(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ll(e,t){const l={},n={},s={$$scope:1};let i=e.length;for(;i--;){const r=e[i],a=t[i];if(a){for(const o in r)o in a||(n[o]=1);for(const o in a)s[o]||(l[o]=a[o],s[o]=1);e[i]=a}else for(const o in r)s[o]=1}for(const r in n)r in l||(l[r]=void 0);return l}function en(e){return typeof e=="object"&&e!==null?e:{}}function qe(e,t,l){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function fe(e){e&&e.c()}function ae(e,t,l){const{fragment:n,after_update:s}=e.$$;n&&n.m(t,l),xe(()=>{const i=e.$$.on_mount.map(gl).filter(Mt);e.$$.on_destroy?e.$$.on_destroy.push(...i):ge(i),e.$$.on_mount=[]}),s.forEach(xe)}function ue(e,t){const l=e.$$;l.fragment!==null&&(Zl(l.after_update),ge(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function tn(e,t){e.$$.dirty[0]===-1&&(Ce.push(e),Ml(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,l,n,s,i,r,a=[-1]){const o=Ze;Qe(e);const u=e.$$={fragment:null,ctx:[],props:i,update:re,not_equal:s,bound:At(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(o?o.$$.context:[])),callbacks:At(),dirty:a,skip_bound:!1,root:t.target||o.$$.root};r&&r(u.root);let k=!1;if(u.ctx=l?l(e,t.props||{},(_,p,...d)=>{const b=d.length?d[0]:p;return u.ctx&&s(u.ctx[_],u.ctx[_]=b)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](b),k&&tn(e,_)),p}):[],u.update(),k=!0,ge(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const _=Wl(t.target);u.fragment&&u.fragment.l(_),_.forEach(I)}else u.fragment&&u.fragment.c();t.intro&&C(e.$$.fragment),ae(e,t.target,t.anchor),Tl()}Qe(o)}class _e{constructor(){Oe(this,"$$");Oe(this,"$$set")}$destroy(){ue(this,1),this.$destroy=re}$on(t,l){if(!Mt(l))return re;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!Yl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ln="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ln);const Pe=[];function Al(e,t=re){let l;const n=new Set;function s(a){if(de(e,a)&&(e=a,l)){const o=!Pe.length;for(const u of n)u[1](),Pe.push(u,e);if(o){for(let u=0;u<Pe.length;u+=2)Pe[u][0](Pe[u+1]);Pe.length=0}}}function i(a){s(a(e))}function r(a,o=re){const u=[a,o];return n.add(u),n.size===1&&(l=t(s,i)||re),a(e),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:s,update:i,subscribe:r}}const dt=Al(!1);function nn(e){let t,l,n,s,i,r,a,o,u,k,_;return{c(){t=y("div"),l=y("div"),n=E(),s=y("div"),i=y("form"),r=y("div"),a=y("div"),o=E(),u=y("div"),u.innerHTML='<p class="control"><button type="submit" class="button is-success svelte-1vm7l7d" title="Подтвердить"><span class="icon is-small"><i class="fa-light fa-check"></i></span><span>Да</span></button></p> <p class="control"><button type="reset" class="button is-danger is-outlined svelte-1vm7l7d" title="Отменить"><span class="icon is-small"><i class="fa-light fa-xmark"></i></span><span>Нет</span></button></p>',m(l,"class","modal-background"),m(a,"class","container content"),m(u,"class","field is-grouped is-grouped-centered"),m(r,"class","message-body"),m(i,"class","message is-warning"),m(s,"class","modal-content"),m(t,"class","modal"),X(t,"is-active",e[0])},m(p,d){P(p,t,d),c(t,l),c(t,n),c(t,s),c(s,i),c(i,r),c(r,a),a.innerHTML=e[1],c(r,o),c(r,u),k||(_=[z(l,"click",e[3]),z(i,"submit",Ie(e[2])),z(i,"reset",Ie(e[3]))],k=!0)},p(p,[d]){d&2&&(a.innerHTML=p[1]),d&1&&X(t,"is-active",p[0])},i:re,o:re,d(p){p&&I(t),k=!1,ge(_)}}}let Yt="modalevent";function sn(e,t,l){const n=Ue();let{htmldata:s="Sample modal data"}=t,{active:i=!1}=t,r=!1;const a=()=>{r=!0,l(0,i=!1),n(Yt,r)},o=()=>{r=!1,l(0,i=!1),n(Yt,r)};return e.$$set=u=>{"htmldata"in u&&l(1,s=u.htmldata),"active"in u&&l(0,i=u.active)},[i,s,a,o]}class rn extends _e{constructor(t){super(),me(this,t,sn,nn,de,{htmldata:1,active:0})}}function on(e){let t,l,n,s,i,r,a,o,u;function k(p){e[4](p)}let _={htmldata:un};return e[1]!==void 0&&(_.active=e[1]),i=new rn({props:_}),ye.push(()=>qe(i,"active",k)),i.$on("modalevent",e[3]),{c(){t=y("button"),l=y("i"),s=E(),fe(i.$$.fragment),m(l,"class","fa-light fa-trash-xmark"),m(t,"type","submit"),m(t,"class","button is-link is-outlined mt-1 ml-2"),t.disabled=n=!e[0],m(t,"title","Удалить отмеченные")},m(p,d){P(p,t,d),c(t,l),P(p,s,d),ae(i,p,d),a=!0,o||(u=z(t,"click",Ie(e[2])),o=!0)},p(p,[d]){(!a||d&1&&n!==(n=!p[0]))&&(t.disabled=n);const b={};!r&&d&2&&(r=!0,b.active=p[1],ze(()=>r=!1)),i.$set(b)},i(p){a||(C(i.$$.fragment,p),a=!0)},o(p){G(i.$$.fragment,p),a=!1},d(p){p&&(I(t),I(s)),ue(i,p),o=!1,u()}}}const an="http://127.0.0.1:8000/api/v1/documents/";let un="<p>Удаление <span class='has-text-danger-dark'>необратимо</span>! Удалить?</p>";const cn="notification";function fn(e,t,l){const n=document.querySelector("[name=csrfmiddlewaretoken]").value;let s=!1;const i=Ue();let{disabled:r=!0}=t,a=dt.subscribe(b=>l(0,r=b));Xl(a);const o={add_class:"is-danger",text:"Не удалось удалить:"};let u=null;const k=b=>{u=b.currentTarget,l(1,s=!0)};async function _(b){if(!b.detail)return;const h=u.parentElement;let g="";const v=new FormData(h);for(let S of v.values())g+=await p(S);if(i("updatetable"),g){let S={...o};S.text+=g,i(cn,S)}dt.update(S=>!1)}const p=async b=>{try{const h=await fetch(`${an}${b}/`,{method:"delete",headers:{"X-CSRFToken":n}});return h.ok?"":`<br> id: ${b}, ${h.status} - ${h.statusText}`}catch(h){return`<br> id: ${b}, ${h.message}`}};function d(b){s=b,l(1,s)}return e.$$set=b=>{"disabled"in b&&l(0,r=b.disabled)},[r,s,k,_,d]}class dn extends _e{constructor(t){super(),me(this,t,fn,on,de,{disabled:0})}}function hn(e){let t,l,n,s,i,r,a,o,u;const k=e[4].default,_=et(k,e,e[3],null);return{c(){t=y("div"),l=y("div"),n=E(),s=y("div"),_&&_.c(),i=E(),r=y("button"),m(l,"class","modal-background"),m(s,"class","modal-content"),m(s,"style",e[2]),m(r,"class","modal-close is-large"),m(r,"aria-label","close"),m(t,"class","modal"),m(t,"style",e[1]),X(t,"is-active",e[0])},m(p,d){P(p,t,d),c(t,l),c(t,n),c(t,s),_&&_.m(s,null),c(t,i),c(t,r),a=!0,o||(u=z(r,"click",e[5]),o=!0)},p(p,[d]){_&&_.p&&(!a||d&8)&&lt(_,k,p,p[3],a?tt(k,p[3],d,null):nt(p[3]),null),(!a||d&4)&&m(s,"style",p[2]),(!a||d&2)&&m(t,"style",p[1]),(!a||d&1)&&X(t,"is-active",p[0])},i(p){a||(C(_,p),a=!0)},o(p){G(_,p),a=!1},d(p){p&&I(t),_&&_.d(p),o=!1,u()}}}function mn(e,t,l){let{$$slots:n={},$$scope:s}=t,{active:i=!1}=t,{modal_style:r=""}=t,{content_style:a=""}=t;const o=()=>l(0,i=!1);return e.$$set=u=>{"active"in u&&l(0,i=u.active),"modal_style"in u&&l(1,r=u.modal_style),"content_style"in u&&l(2,a=u.content_style),"$$scope"in u&&l(3,s=u.$$scope)},[i,r,a,s,n,o]}class _n extends _e{constructor(t){super(),me(this,t,mn,hn,de,{active:0,modal_style:1,content_style:2})}}function gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fl={exports:{}};(function(e,t){(function(){var l={};e.exports=l,l.simpleFilter=function(n,s){return s.filter(function(i){return l.test(n,i)})},l.test=function(n,s){return l.match(n,s)!==null},l.match=function(n,s,i){i=i||{};var r=0,a=[],o=s.length,u=0,k=0,_=i.pre||"",p=i.post||"",d=i.caseSensitive&&s||s.toLowerCase(),b;n=i.caseSensitive&&n||n.toLowerCase();for(var h=0;h<o;h++)b=s[h],d[h]===n[r]?(b=_+b+p,r+=1,k+=1+k):k=0,u+=k,a[a.length]=b;return r===n.length?(u=d===n?1/0:u,{rendered:a.join(""),score:u}):null},l.filter=function(n,s,i){return!s||s.length===0?[]:typeof n!="string"?s:(i=i||{},s.reduce(function(r,a,o,u){var k=a;i.extract&&(k=i.extract(a));var _=l.match(n,k,i);return _!=null&&(r[r.length]={string:_.rendered,score:_.score,index:o,original:a}),r},[]).sort(function(r,a){var o=a.score-r.score;return o||r.index-a.index}))}})()})(Fl);var bn=Fl.exports;const pn=gn(bn);const vn=e=>({}),It=e=>({});function yn(e){let t;return{c(){t=he(e[2])},m(l,n){P(l,t,n)},p(l,n){n&4&&be(t,l[2])},d(l){l&&I(t)}}}function wn(e){let t,l,n,s,i,r,a,o,u,k;const _=e[10].label,p=et(_,e,e[9],It),d=p||yn(e);let b=[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},e[6],{id:e[4]}],h={};for(let g=0;g<b.length;g+=1)h=Ye(h,b[g]);return{c(){t=y("form"),l=y("label"),d&&d.c(),s=E(),i=y("input"),m(l,"id",n=e[4]+"-label"),m(l,"for",e[4]),m(l,"class","svelte-5m0wg6"),X(l,"hide-label",e[3]),Et(i,h),X(i,"svelte-5m0wg6",!0),m(t,"data-svelte-search",""),m(t,"role",r=e[5]?null:"search"),m(t,"aria-labelledby",a=e[5]?null:e[4])},m(g,v){P(g,t,v),c(t,l),d&&d.m(l,null),c(t,s),c(t,i),i.autofocus&&i.focus(),e[17](i),ke(i,e[0]),o=!0,u||(k=[z(i,"input",e[18]),z(i,"input",e[12]),z(i,"change",e[13]),z(i,"focus",e[14]),z(i,"blur",e[15]),z(i,"keydown",e[16]),z(t,"submit",Ie(e[11]))],u=!0)},p(g,[v]){p?p.p&&(!o||v&512)&&lt(p,_,g,g[9],o?tt(_,g[9],v,vn):nt(g[9]),It):d&&d.p&&(!o||v&4)&&d.p(g,o?v:-1),(!o||v&16&&n!==(n=g[4]+"-label"))&&m(l,"id",n),(!o||v&16)&&m(l,"for",g[4]),(!o||v&8)&&X(l,"hide-label",g[3]),Et(i,h=Ll(b,[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},v&64&&g[6],(!o||v&16)&&{id:g[4]}])),v&1&&i.value!==g[0]&&ke(i,g[0]),X(i,"svelte-5m0wg6",!0),(!o||v&32&&r!==(r=g[5]?null:"search"))&&m(t,"role",r),(!o||v&48&&a!==(a=g[5]?null:g[4]))&&m(t,"aria-labelledby",a)},i(g){o||(C(d,g),o=!0)},o(g){G(d,g),o=!1},d(g){g&&I(t),d&&d.d(g),e[17](null),u=!1,ge(k)}}}function kn(e,t,l){const n=["value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes"];let s=ot(t,n),{$$slots:i={},$$scope:r}=t,{value:a=""}=t,{autofocus:o=!1}=t,{debounce:u=0}=t,{label:k="Label"}=t,{hideLabel:_=!1}=t,{id:p="search"+Math.random().toString(36)}=t,{ref:d=null}=t,{removeFormAriaAttributes:b=!1}=t;const h=Ue();let g=a,v,S=!1;function D(F){S||(S=!0,v=setTimeout(()=>{F(),S=!1},u))}mt(()=>(o&&window.requestAnimationFrame(()=>d.focus()),()=>clearTimeout(v))),Sl(()=>{a.length>0&&a!==g&&(u>0?D(()=>h("type",a)):h("type",a)),a.length===0&&g.length>0&&h("clear"),g=a});function L(F){ie.call(this,e,F)}function T(F){ie.call(this,e,F)}function O(F){ie.call(this,e,F)}function U(F){ie.call(this,e,F)}function $(F){ie.call(this,e,F)}function B(F){ie.call(this,e,F)}function R(F){ye[F?"unshift":"push"](()=>{d=F,l(1,d)})}function H(){a=this.value,l(0,a)}return e.$$set=F=>{t=Ye(Ye({},t),pl(F)),l(6,s=ot(t,n)),"value"in F&&l(0,a=F.value),"autofocus"in F&&l(7,o=F.autofocus),"debounce"in F&&l(8,u=F.debounce),"label"in F&&l(2,k=F.label),"hideLabel"in F&&l(3,_=F.hideLabel),"id"in F&&l(4,p=F.id),"ref"in F&&l(1,d=F.ref),"removeFormAriaAttributes"in F&&l(5,b=F.removeFormAriaAttributes),"$$scope"in F&&l(9,r=F.$$scope)},[a,d,k,_,p,b,s,o,u,r,i,L,T,O,U,$,B,R,H]}class Sn extends _e{constructor(t){super(),me(this,t,kn,wn,de,{value:0,autofocus:7,debounce:8,label:2,hideLabel:3,id:4,ref:1,removeFormAriaAttributes:5})}}const Dn=Sn;const Mn=e=>({value:e[0]&1}),zt=e=>({value:e[0]});function qt(e,t,l){const n=e.slice();return n[47]=t[l],n[49]=l,n}const Tn=e=>({result:e[0]&2,value:e[0]&1}),jt=e=>({result:e[47],index:e[49],value:e[0]});function Pt(e){let t,l,n=ne(e[1]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ct(qt(e,n,r));const i=r=>G(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();t=Lt()},m(r,a){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(r,a);P(r,t,a),l=!0},p(r,a){if(a[0]&67111943){n=ne(r[1]);let o;for(o=0;o<n.length;o+=1){const u=qt(r,n,o);s[o]?(s[o].p(u,a),C(s[o],1)):(s[o]=Ct(u),s[o].c(),C(s[o],1),s[o].m(t.parentNode,t))}for(ct(),o=n.length;o<s.length;o+=1)i(o);ft()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)C(s[a]);l=!0}},o(r){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);l=!1},d(r){r&&I(t),ve(s,r)}}}function Ln(e){let t,l=e[47].string+"",n;return{c(){t=new Kl(!1),n=Lt(),t.a=n},m(s,i){t.m(l,s,i),P(s,n,i)},p(s,i){i[0]&2&&l!==(l=s[47].string+"")&&t.p(l)},d(s){s&&(I(n),t.d())}}}function Ct(e){let t,l,n,s,i,r,a;const o=e[27].default,u=et(o,e,e[26],jt),k=u||Ln(e);function _(){return e[40](e[47],e[49])}function p(){return e[41](e[47],e[49])}return{c(){t=y("li"),k&&k.c(),l=E(),m(t,"role","option"),m(t,"id",n=e[2]+"-result-"+e[49]),m(t,"aria-selected",s=e[10]===e[49]),m(t,"class","svelte-1t4elht"),X(t,"selected",e[10]===e[49]),X(t,"disabled",e[47].disabled)},m(d,b){P(d,t,b),k&&k.m(t,null),c(t,l),i=!0,r||(a=[z(t,"click",_),z(t,"mouseenter",p)],r=!0)},p(d,b){e=d,u?u.p&&(!i||b[0]&67108867)&&lt(u,o,e,e[26],i?tt(o,e[26],b,Tn):nt(e[26]),jt):k&&k.p&&(!i||b[0]&2)&&k.p(e,i?b:[-1,-1]),(!i||b[0]&4&&n!==(n=e[2]+"-result-"+e[49]))&&m(t,"id",n),(!i||b[0]&1024&&s!==(s=e[10]===e[49]))&&m(t,"aria-selected",s),(!i||b[0]&1024)&&X(t,"selected",e[10]===e[49]),(!i||b[0]&2)&&X(t,"disabled",e[47].disabled)},i(d){i||(C(k,d),i=!0)},o(d){G(k,d),i=!1},d(d){d&&I(t),k&&k.d(d),r=!1,ge(a)}}}function Rt(e){let t,l;const n=e[27]["no-results"],s=et(n,e,e[26],zt);return{c(){t=y("div"),s&&s.c(),m(t,"class","svelte-1t4elht"),X(t,"no-results",!0)},m(i,r){P(i,t,r),s&&s.m(t,null),l=!0},p(i,r){s&&s.p&&(!l||r[0]&67108865)&&lt(s,n,i,i[26],l?tt(n,i[26],r,Mn):nt(i[26]),zt)},i(i){l||(C(s,i),l=!0)},o(i){G(s,i),l=!1},d(i){i&&I(t),s&&s.d(i)}}}function An(e){let t,l,n,s,i,r,a,o,u,k,_,p,d,b;const h=[{id:e[2]},{removeFormAriaAttributes:!0},e[16],{"aria-autocomplete":"list"},{"aria-controls":e[2]+"-listbox"},{"aria-labelledby":e[2]+"-label"},{"aria-activedescendant":e[10]>=0&&!e[5]&&e[1].length>0?`${e[2]}-result-${e[10]}`:null}];function g(T){e[29](T)}function v(T){e[30](T)}let S={};for(let T=0;T<h.length;T+=1)S=Ye(S,h[T]);e[9]!==void 0&&(S.ref=e[9]),e[0]!==void 0&&(S.value=e[0]),l=new Dn({props:S}),ye.push(()=>qe(l,"ref",g)),ye.push(()=>qe(l,"value",v)),l.$on("type",e[31]),l.$on("input",e[32]),l.$on("change",e[33]),l.$on("focus",e[34]),l.$on("focus",e[35]),l.$on("clear",e[36]),l.$on("clear",e[13]),l.$on("blur",e[37]),l.$on("keydown",e[38]),l.$on("keydown",e[39]);let D=e[7]&&Pt(e),L=e[15]["no-results"]&&!e[5]&&e[0].length>0&&e[1].length===0&&Rt(e);return{c(){t=y("div"),fe(l.$$.fragment),i=E(),r=y("ul"),D&&D.c(),a=E(),L&&L.c(),m(r,"role","listbox"),m(r,"aria-labelledby",o=e[2]+"-label"),m(r,"id",u=e[2]+"-listbox"),m(r,"class","svelte-1t4elht"),X(r,"svelte-typeahead-list",!0),m(t,"data-svelte-typeahead",""),m(t,"role","combobox"),m(t,"aria-haspopup","listbox"),m(t,"aria-controls",k=e[2]+"-listbox"),m(t,"aria-expanded",e[7]),m(t,"id",_=e[2]+"-typeahead"),m(t,"class","svelte-1t4elht"),X(t,"dropdown",e[1].length>0)},m(T,O){P(T,t,O),ae(l,t,null),c(t,i),c(t,r),D&&D.m(r,null),c(r,a),L&&L.m(r,null),e[42](t),p=!0,d||(b=z(window,"click",e[28]),d=!0)},p(T,O){const U=O[0]&66598?Ll(h,[O[0]&4&&{id:T[2]},h[1],O[0]&65536&&en(T[16]),h[3],O[0]&4&&{"aria-controls":T[2]+"-listbox"},O[0]&4&&{"aria-labelledby":T[2]+"-label"},O[0]&1062&&{"aria-activedescendant":T[10]>=0&&!T[5]&&T[1].length>0?`${T[2]}-result-${T[10]}`:null}]):{};!n&&O[0]&512&&(n=!0,U.ref=T[9],ze(()=>n=!1)),!s&&O[0]&1&&(s=!0,U.value=T[0],ze(()=>s=!1)),l.$set(U),T[7]?D?(D.p(T,O),O[0]&128&&C(D,1)):(D=Pt(T),D.c(),C(D,1),D.m(r,a)):D&&(ct(),G(D,1,1,()=>{D=null}),ft()),T[15]["no-results"]&&!T[5]&&T[0].length>0&&T[1].length===0?L?(L.p(T,O),O[0]&32803&&C(L,1)):(L=Rt(T),L.c(),C(L,1),L.m(r,null)):L&&(ct(),G(L,1,1,()=>{L=null}),ft()),(!p||O[0]&4&&o!==(o=T[2]+"-label"))&&m(r,"aria-labelledby",o),(!p||O[0]&4&&u!==(u=T[2]+"-listbox"))&&m(r,"id",u),(!p||O[0]&4&&k!==(k=T[2]+"-listbox"))&&m(t,"aria-controls",k),(!p||O[0]&128)&&m(t,"aria-expanded",T[7]),(!p||O[0]&4&&_!==(_=T[2]+"-typeahead"))&&m(t,"id",_),(!p||O[0]&2)&&X(t,"dropdown",T[1].length>0)},i(T){p||(C(l.$$.fragment,T),C(D),C(L),p=!0)},o(T){G(l.$$.fragment,T),G(D),G(L),p=!1},d(T){T&&I(t),ue(l),D&&D.d(),L&&L.d(),e[42](null),d=!1,b()}}}function Fn(e,t,l){let n,s,i;const r=["id","value","data","extract","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","showDropdownOnFocus","showAllResultsOnFocus","limit"];let a=ot(t,r),{$$slots:o={},$$scope:u}=t;const k=zl(o);let{id:_="typeahead-"+Math.random().toString(36)}=t,{value:p=""}=t,{data:d=[]}=t,{extract:b=M=>M}=t,{disable:h=M=>!1}=t,{filter:g=M=>!1}=t,{autoselect:v=!0}=t,{inputAfterSelect:S="update"}=t,{results:D=[]}=t,{focusAfterSelect:L=!1}=t,{showDropdownOnFocus:T=!1}=t,{showAllResultsOnFocus:O=!1}=t,{limit:U=1/0}=t;const $=Ue();let B=null,R=null,H=!1,F=-1,Y="",q=!1;Sl(()=>{Y!==s&&v&&l(10,F=f()),Y!==s&&!k["no-results"]&&l(5,H=D.length===0),Y=s});async function j(){const M=D[F];if(M.disabled)return;const K=b(M.original),oe=p;S=="clear"&&l(0,p=""),S=="update"&&l(0,p=K),$("select",{selectedIndex:F,searched:oe,selected:K,original:M.original,originalIndex:M.index}),await Gl(),L&&R.focus(),W()}function f(){var oe,Me;let M=0,K=((oe=D[M])==null?void 0:oe.disabled)??!1;for(;K;)M===D.length?M=0:M+=1,K=((Me=D[M])==null?void 0:Me.disabled)??!1;return M}function N(M){let K=M===1&&F===D.length-1?0:F+M;K<0&&(K=D.length-1);let oe=D[K].disabled;for(;oe;)K===D.length?K=0:K+=M,oe=D[K].disabled;l(10,F=K)}const J=()=>l(5,H=!1),W=()=>{l(5,H=!0),l(6,q=!1)},se=({target:M})=>{!H&&!(B!=null&&B.contains(M))&&W()};function x(M){R=M,l(9,R)}function Q(M){p=M,l(0,p)}function ee(M){ie.call(this,e,M)}function A(M){ie.call(this,e,M)}function Z(M){ie.call(this,e,M)}function w(M){ie.call(this,e,M)}const te=()=>{J(),(T||O)&&(l(7,i=!0),l(6,q=!0))};function Se(M){ie.call(this,e,M)}function De(M){ie.call(this,e,M)}function Ee(M){ie.call(this,e,M)}const we=M=>{if(D.length!==0)switch(M.key){case"Enter":j();break;case"ArrowDown":M.preventDefault(),N(1);break;case"ArrowUp":M.preventDefault(),N(-1);break;case"Escape":M.preventDefault(),l(0,p=""),R==null||R.focus(),W();break}},Ne=(M,K)=>{M.disabled||(l(10,F=K),j())},Ae=(M,K)=>{M.disabled||l(10,F=K)};function pe(M){ye[M?"unshift":"push"](()=>{B=M,l(8,B)})}return e.$$set=M=>{t=Ye(Ye({},t),pl(M)),l(16,a=ot(t,r)),"id"in M&&l(2,_=M.id),"value"in M&&l(0,p=M.value),"data"in M&&l(17,d=M.data),"extract"in M&&l(18,b=M.extract),"disable"in M&&l(19,h=M.disable),"filter"in M&&l(20,g=M.filter),"autoselect"in M&&l(21,v=M.autoselect),"inputAfterSelect"in M&&l(22,S=M.inputAfterSelect),"results"in M&&l(1,D=M.results),"focusAfterSelect"in M&&l(23,L=M.focusAfterSelect),"showDropdownOnFocus"in M&&l(3,T=M.showDropdownOnFocus),"showAllResultsOnFocus"in M&&l(4,O=M.showAllResultsOnFocus),"limit"in M&&l(24,U=M.limit),"$$scope"in M&&l(26,u=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&262144&&l(25,n={pre:"<mark>",post:"</mark>",extract:b}),e.$$.dirty[0]&52035585&&l(1,D=pn.filter(p,d,n).filter(({score:M})=>M>0).slice(0,U).filter(M=>!g(M.original)).map(M=>({...M,disabled:h(M.original)}))),e.$$.dirty[0]&1966161&&q&&O&&p.length===0&&l(1,D=d.filter(M=>!g(M)).map((M,K)=>({disabled:h(M),index:K,original:M,score:0,string:b(M)}))),e.$$.dirty[0]&262146&&(s=D.map(M=>b(M.original)).join("")),e.$$.dirty[0]&34&&l(7,i=!H&&D.length>0),e.$$.dirty[0]&200&&T&&l(7,i=i&&q)},[p,D,_,T,O,H,q,i,B,R,F,j,N,J,W,k,a,d,b,h,g,v,S,L,U,n,u,o,se,x,Q,ee,A,Z,w,te,Se,De,Ee,we,Ne,Ae,pe]}class On extends _e{constructor(t){super(),me(this,t,Fn,An,de,{id:2,value:0,data:17,extract:18,disable:19,filter:20,autoselect:21,inputAfterSelect:22,results:1,focusAfterSelect:23,showDropdownOnFocus:3,showAllResultsOnFocus:4,limit:24},null,[-1,-1])}}function En(e){let t;return{c(){t=y("div"),t.innerHTML='Не найдено. <a href="">Создать новую запись?</a>',m(t,"slot","no-results")},m(l,n){P(l,t,n)},p:re,d(l){l&&I(t)}}}function Nn(e){let t,l,n;return l=new On({props:{hideLabel:!0,data:e[1],extract:e[2],placeholder:e[0],$$slots:{"no-results":[En]},$$scope:{ctx:e}}}),l.$on("select",e[3]),l.$on("clear",e[4]),{c(){t=y("div"),fe(l.$$.fragment),m(t,"class","sv-inputlist")},m(s,i){P(s,t,i),ae(l,t,null),n=!0},p(s,[i]){const r={};i&2&&(r.data=s[1]),i&1&&(r.placeholder=s[0]),i&32&&(r.$$scope={dirty:i,ctx:s}),l.$set(r)},i(s){n||(C(l.$$.fragment,s),n=!0)},o(s){G(l.$$.fragment,s),n=!1},d(s){s&&I(t),ue(l)}}}function Hn(e,t,l){let{placeholder:n="наименование"}=t,{data:s=[]}=t;const i=o=>{let u="",k=" - ";for(let _ in o)_!="id"&&(u+=o[_]+k);return u.slice(0,-3)};function r(o){ie.call(this,e,o)}function a(o){ie.call(this,e,o)}return e.$$set=o=>{"placeholder"in o&&l(0,n=o.placeholder),"data"in o&&l(1,s=o.data)},[n,s,i,r,a]}class Ke extends _e{constructor(t){super(),me(this,t,Hn,Nn,de,{placeholder:0,data:1})}}function Yn(e){let t,l,n,s,i,r,a,o,u,k,_,p,d,b,h,g,v,S,D,L,T,O,U,$,B,R,H,F,Y,q,j,f,N,J,W,se,x,Q,ee,A,Z,w,te,Se,De,Ee,we,Ne,Ae,pe,M,K,oe,Me,Te,ce,V;return u=new Ke({props:{placeholder:St,data:e[0]}}),B=new Ke({props:{placeholder:St,data:e[0]}}),{c(){t=y("table"),l=y("thead"),l.innerHTML="<tr><th>№</th> <th>Наименование</th> <th>Кол-во мест</th> <th>Вес</th> <th>Объем</th> <th>Цена (₽)</th> <th>Сумма (₽)</th></tr>",n=E(),s=y("tbody"),i=y("tr"),r=y("td"),r.innerHTML="<span></span>",a=E(),o=y("td"),fe(u.$$.fragment),k=E(),_=y("td"),_.innerHTML='<input type="number" class="num input is-small" name="seats"/>',p=E(),d=y("td"),d.innerHTML='<input type="text" class="num input is-small" name="weight"/>',b=E(),h=y("td"),h.innerHTML='<input type="text" class="num input is-small" name="volume"/>',g=E(),v=y("td"),v.innerHTML='<input type="text" class="rub input is-small" name="price"/>',S=E(),D=y("td"),D.innerHTML='<input type="text" class="rub input is-small" name="item_sum"/>',L=E(),T=y("tr"),O=y("td"),O.innerHTML="<span></span>",U=E(),$=y("td"),fe(B.$$.fragment),R=E(),H=y("td"),H.innerHTML='<input type="number" class="num input is-small" name="seats"/>',F=E(),Y=y("td"),Y.innerHTML='<input type="text" class="num input is-small" name="weight"/>',q=E(),j=y("td"),j.innerHTML='<input type="text" class="num input is-small" name="volume"/>',f=E(),N=y("td"),N.innerHTML='<input type="text" class="rub input is-small" name="price"/>',J=E(),W=y("td"),W.innerHTML='<input type="text" class="rub input is-small" name="item_sum"/> <a class="removeline" title="удалить строку" href=""><span class="icon is-small has-text-grey-light"><i class="fa-light fa-xmark"></i></span></a>',se=E(),x=y("tfoot"),Q=y("tr"),ee=y("td"),A=E(),Z=y("td"),w=y("a"),w.textContent="+ строка",te=E(),Se=y("td"),De=E(),Ee=y("td"),we=E(),Ne=y("td"),Ae=E(),pe=y("td"),pe.textContent="Всего к оплате:",M=E(),K=y("td"),oe=y("strong"),Me=he(e[1]),m(r,"class","count"),m(i,"class","item"),m(O,"class","count"),m(T,"class","item"),m(w,"href",""),m(pe,"align","right"),m(oe,"id","documentform-sum"),m(t,"class","table content is-small"),m(t,"id","docitemform_table")},m(le,Fe){P(le,t,Fe),c(t,l),c(t,n),c(t,s),c(s,i),c(i,r),c(i,a),c(i,o),ae(u,o,null),c(i,k),c(i,_),c(i,p),c(i,d),c(i,b),c(i,h),c(i,g),c(i,v),c(i,S),c(i,D),c(s,L),c(s,T),c(T,O),c(T,U),c(T,$),ae(B,$,null),c(T,R),c(T,H),c(T,F),c(T,Y),c(T,q),c(T,j),c(T,f),c(T,N),c(T,J),c(T,W),c(t,se),c(t,x),c(x,Q),c(Q,ee),c(Q,A),c(Q,Z),c(Z,w),c(Q,te),c(Q,Se),c(Q,De),c(Q,Ee),c(Q,we),c(Q,Ne),c(Q,Ae),c(Q,pe),c(Q,M),c(Q,K),c(K,oe),c(oe,Me),Te=!0,ce||(V=z(w,"click",Ie(e[2])),ce=!0)},p(le,[Fe]){const Je={};Fe&1&&(Je.data=le[0]),u.$set(Je);const Be={};Fe&1&&(Be.data=le[0]),B.$set(Be),(!Te||Fe&2)&&be(Me,le[1])},i(le){Te||(C(u.$$.fragment,le),C(B.$$.fragment,le),Te=!0)},o(le){G(u.$$.fragment,le),G(B.$$.fragment,le),Te=!1},d(le){le&&I(t),ue(u),ue(B),ce=!1,V()}}}let St="наименование груза";const In="http://127.0.0.1:8000/api/v1/items/";function it(e){let t=parseFloat(e.replace(/\s/g,"").replace(",","."));return isNaN(t)?0:t}function bt(e){return e==0?"":new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function zn(e,t,l){let n=[{name:"загрузка..."}];const s=["input","is-small"];async function i(){l(0,n=await fetch(In).then(b=>b.json()))}const r=()=>{for(let b of s)document.querySelectorAll("[data-svelte-search] input").forEach(g=>{g.classList.add(b)})},a=()=>{document.querySelectorAll("a.removeline").forEach(function(h){h.addEventListener("click",function(g){g.preventDefault(),g.currentTarget.parentNode.parentNode.remove(),k()})})};mt(()=>{d(),i()});const o=b=>{const h=`<tr class="item"><td class="count"><span></span></td>
            <td></td>
            <td><input type="number" class="num input is-small" name="seats"></td>
            <td><input type="text" class="num input is-small" name="weight"></td>
            <td><input type="text" class="num input is-small" name="volume"></td>
            <td><input type="text" class="rub input is-small" name="price"></td>
            <td><input type="text" class="rub input is-small" name="item_sum">
                <a class="removeline" title="удалить строку" href="">
                    <span class="icon is-small has-text-grey-light"><i class="fa-light fa-xmark"></i></span>
                </a>
            </td>
        </tr>`;let g=b.currentTarget.parentNode.parentNode.parentNode.parentNode;g.childNodes[2].insertAdjacentHTML("beforeend",h),new Ke({target:g.childNodes[2].lastChild.childNodes[2],props:{placeholder:St,data:n}}),d()};let u="";const k=()=>{let b=0;document.querySelector("#docitemform_table tbody").querySelectorAll("[name=item_sum]").forEach(v=>{b+=it(v.value)}),l(1,u=bt(b))};function _(b){let h=b.currentTarget.parentNode.parentNode,g=it(h.querySelector("[name=seats]").value),v=it(h.querySelector("[name=price]").value),S=g*v;h.querySelector("[name=item_sum]").value=bt(S),k()}const p=b=>{let h=it(b.currentTarget.value);b.currentTarget.value=bt(h)};function d(){document.querySelectorAll("[name=price]").forEach(function(v){v.addEventListener("change",S=>p(S)),v.addEventListener("input",S=>_(S))}),document.querySelectorAll("[name=seats]").forEach(function(v){v.addEventListener("input",S=>_(S))}),document.querySelectorAll("[name=item_sum]").forEach(v=>{v.addEventListener("blur",S=>{p(S),k()})}),a(),r()}return[n,u,o]}class qn extends _e{constructor(t){super(),me(this,t,zn,Yn,de,{})}}function Wt(e,t,l){const n=e.slice();n[8]=t[l];const s=Object.values(n[8]);return n[9]=s,n}function Kt(e,t,l){const n=e.slice();return n[12]=t[l],n}function Ut(e,t,l){const n=e.slice();return n[15]=t[l],n}function Jt(e){let t,l=e[5](e[15])+"",n;return{c(){t=y("th"),n=he(l),m(t,"class","has-text-grey svelte-13f9v1r")},m(s,i){P(s,t,i),c(t,n)},p(s,i){i&1&&l!==(l=s[5](s[15])+"")&&be(n,l)},d(s){s&&I(t)}}}function Bt(e){let t,l=e[12]+"";return{c(){t=y("td"),m(t,"class","svelte-13f9v1r")},m(n,s){P(n,t,s),t.innerHTML=l},p(n,s){s&1&&l!==(l=n[12]+"")&&(t.innerHTML=l)},d(n){n&&I(t)}}}function Vt(e){let t,l,n,s,i,r,a,o=e[9][1]+"",u,k,_,p,d,b,h=ne(e[9].slice(2)),g=[];for(let v=0;v<h.length;v+=1)g[v]=Bt(Kt(e,h,v));return{c(){t=y("tr"),l=y("td"),n=y("input"),i=E(),r=y("td"),a=y("a"),u=he(o),_=E();for(let v=0;v<g.length;v+=1)g[v].c();p=E(),m(n,"type","checkbox"),m(n,"name",e[2]),n.value=s=e[9][0],m(l,"class","svelte-13f9v1r"),m(a,"href",k=""+(e[1]+e[9][0])),m(a,"class","svelte-13f9v1r"),m(r,"class","svelte-13f9v1r")},m(v,S){P(v,t,S),c(t,l),c(l,n),c(t,i),c(t,r),c(r,a),c(a,u),c(t,_);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(t,null);c(t,p),d||(b=z(n,"change",e[3]),d=!0)},p(v,S){if(S&4&&m(n,"name",v[2]),S&1&&s!==(s=v[9][0])&&(n.value=s),S&1&&o!==(o=v[9][1]+"")&&be(u,o),S&3&&k!==(k=""+(v[1]+v[9][0]))&&m(a,"href",k),S&1){h=ne(v[9].slice(2));let D;for(D=0;D<h.length;D+=1){const L=Kt(v,h,D);g[D]?g[D].p(L,S):(g[D]=Bt(L),g[D].c(),g[D].m(t,p))}for(;D<g.length;D+=1)g[D].d(1);g.length=h.length}},d(v){v&&I(t),ve(g,v),d=!1,b()}}}function jn(e){let t,l,n,s,i,r,a,o,u,k,_,p=ne(Object.keys(e[0][0]).slice(1)),d=[];for(let g=0;g<p.length;g+=1)d[g]=Jt(Ut(e,p,g));let b=ne(e[0]),h=[];for(let g=0;g<b.length;g+=1)h[g]=Vt(Wt(e,b,g));return{c(){t=y("div"),l=y("table"),n=y("thead"),s=y("tr"),i=y("th"),r=y("input"),a=E();for(let g=0;g<d.length;g+=1)d[g].c();o=E(),u=y("tbody");for(let g=0;g<h.length;g+=1)h[g].c();m(r,"type","checkbox"),m(r,"id",Ol),m(i,"class","svelte-13f9v1r"),m(l,"class","table is-hoverable is-striped has-background-white-ter"),m(t,"class","svelte-13f9v1r")},m(g,v){P(g,t,v),c(t,l),c(l,n),c(n,s),c(s,i),c(i,r),c(s,a);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(s,null);c(l,o),c(l,u);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(u,null);k||(_=z(r,"change",e[4]),k=!0)},p(g,[v]){if(v&33){p=ne(Object.keys(g[0][0]).slice(1));let S;for(S=0;S<p.length;S+=1){const D=Ut(g,p,S);d[S]?d[S].p(D,v):(d[S]=Jt(D),d[S].c(),d[S].m(s,null))}for(;S<d.length;S+=1)d[S].d(1);d.length=p.length}if(v&15){b=ne(g[0]);let S;for(S=0;S<b.length;S+=1){const D=Wt(g,b,S);h[S]?h[S].p(D,v):(h[S]=Vt(D),h[S].c(),h[S].m(u,null))}for(;S<h.length;S+=1)h[S].d(1);h.length=b.length}},i:re,o:re,d(g){g&&I(t),ve(d,g),ve(h,g),k=!1,_()}}}const Xt="has-background-warning-light",Ol="tablegen-all";function Pn(e,t,l){let{table_content:n=[]}=t,{href:s="/item/"}=t,{checkbox_name:i="id"}=t;const r=new Set;function a(_){let p=_.currentTarget;o(p)}const o=_=>{_.checked?(r.add(_.value),dt.update(p=>!0),_.parentNode.parentNode.classList.add(Xt)):(document.querySelector(`#${Ol}`).checked=!1,r.delete(_.value),r.size==0&&dt.update(p=>!1),_.parentNode.parentNode.classList.remove(Xt))},u=_=>{let p=_.currentTarget,d=document.getElementsByName(i);if(p.checked)for(let b of d)b.checked=!0,o(b);else for(let b of d)b.checked=!1,o(b)},k=_=>{const p={name:"Наименование",address:"Адрес",inn:"ИНН",kpp:"КПП",ogrn:"ОГРН",bank:"Банк",bik:"БИК",pay_acount:"Номер счёта",kor_acount:"Корр. счёт",phone:"Телефон",number:"Номер",date:"Дата",city:"Город",truck:"Номер машины",spec_notes:"Особые отметки",destination_address:"Адрес назначения",text:"Условия договора",sender:"Отправитель",receiver:"Получатель",payer:"Плательщик",created:" ",modified:" ",document:"Документ",doc_sum:"Сумма"};return p[_]?p[_]:_};return e.$$set=_=>{"table_content"in _&&l(0,n=_.table_content),"href"in _&&l(1,s=_.href),"checkbox_name"in _&&l(2,i=_.checkbox_name)},[n,s,i,a,u,k]}class Cn extends _e{constructor(t){super(),me(this,t,Pn,jn,de,{table_content:0,href:1,checkbox_name:2})}}function Rn(e){return e%4===0&&e%100!==0||e%400===0}function $e(e,t){return[31,Rn(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function Gt(e,t){let l="";if(e)for(const n of t)typeof n=="string"?l+=n:l+=n.toString(e);return l}function pt(e,t){const l=$e(e,t),n=[];for(let s=0;s<l;s++)n.push({year:e,month:t,number:s+1});return n}function Wn(e,t){const l=e.getFullYear(),n=e.getMonth(),s=new Date(l,n,1).getDay();let i=[];const r=(s-t+7)%7;if(r>0){let k=n-1,_=l;k===-1&&(k=11,_=l-1),i=pt(_,k).slice(-r)}i=i.concat(pt(l,n));let a=n+1,o=l;a===12&&(a=0,o=l+1);const u=42-i.length;return i=i.concat(pt(o,a).slice(0,u)),i}function Kn(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekStartsOn:1}}function Un(e={}){const t=Kn();return typeof e.weekStartsOn=="number"&&(t.weekStartsOn=e.weekStartsOn),e.months&&(t.months=e.months),e.weekdays&&(t.weekdays=e.weekdays),t}function Qt(e,t,l){const n=e.slice();return n[29]=t[l],n[31]=l,n}function Zt(e,t,l){const n=e.slice();return n[32]=t[l],n}function xt(e,t,l){const n=e.slice();return n[29]=t[l],n[36]=l,n}function $t(e,t,l){const n=e.slice();return n[37]=t[l],n}function el(e,t,l){const n=e.slice();return n[37]=t[l],n}function tl(e,t,l){const n=e.slice();return n[42]=t[l],n[36]=l,n}function ll(e,t,l){const n=e.slice();return n[42]=t[l],n[36]=l,n}function nl(e){let t,l=e[42]+"",n,s;return{c(){t=y("option"),n=he(l),t.disabled=s=new Date(e[8],e[36],$e(e[8],e[36]),23,59,59,999)<e[1]||new Date(e[8],e[36])>e[2],t.__value=e[36],ke(t,t.__value)},m(i,r){P(i,t,r),c(t,n)},p(i,r){r[0]&16&&l!==(l=i[42]+"")&&be(n,l),r[0]&294&&s!==(s=new Date(i[8],i[36],$e(i[8],i[36]),23,59,59,999)<i[1]||new Date(i[8],i[36])>i[2])&&(t.disabled=s)},d(i){i&&I(t)}}}function sl(e){let t,l=e[42]+"",n,s;return{c(){t=y("option"),n=he(l),t.__value=e[36],ke(t,t.__value),t.selected=s=e[36]===e[7]},m(i,r){P(i,t,r),c(t,n)},p(i,r){r[0]&16&&l!==(l=i[42]+"")&&be(n,l),r[0]&128&&s!==(s=i[36]===i[7])&&(t.selected=s)},d(i){i&&I(t)}}}function il(e){let t,l=e[37]+"",n,s;return{c(){t=y("option"),n=he(l),t.__value=s=e[37],ke(t,t.__value)},m(i,r){P(i,t,r),c(t,n)},p(i,r){r[0]&32&&l!==(l=i[37]+"")&&be(n,l),r[0]&32&&s!==(s=i[37])&&(t.__value=s,ke(t,t.__value))},d(i){i&&I(t)}}}function rl(e){let t,l=e[37]+"",n,s,i;return{c(){t=y("option"),n=he(l),t.__value=s=e[37],ke(t,t.__value),t.selected=i=e[37]===e[3].getFullYear()},m(r,a){P(r,t,a),c(t,n)},p(r,a){a[0]&32&&l!==(l=r[37]+"")&&be(n,l),a[0]&32&&s!==(s=r[37])&&(t.__value=s,ke(t,t.__value)),a[0]&40&&i!==(i=r[37]===r[3].getFullYear())&&(t.selected=i)},d(r){r&&I(t)}}}function Jn(e){let t,l=e[4].weekdays[e[4].weekStartsOn+e[36]-7]+"",n;return{c(){t=y("div"),n=he(l),m(t,"class","header-cell svelte-w239uu")},m(s,i){P(s,t,i),c(t,n)},p(s,i){i[0]&16&&l!==(l=s[4].weekdays[s[4].weekStartsOn+s[36]-7]+"")&&be(n,l)},d(s){s&&I(t)}}}function Bn(e){let t,l=e[4].weekdays[e[4].weekStartsOn+e[36]]+"",n;return{c(){t=y("div"),n=he(l),m(t,"class","header-cell svelte-w239uu")},m(s,i){P(s,t,i),c(t,n)},p(s,i){i[0]&16&&l!==(l=s[4].weekdays[s[4].weekStartsOn+s[36]]+"")&&be(n,l)},d(s){s&&I(t)}}}function ol(e){let t;function l(i,r){return i[36]+i[4].weekStartsOn<7?Bn:Jn}let n=l(e),s=n(e);return{c(){s.c(),t=Lt()},m(i,r){s.m(i,r),P(i,t,r)},p(i,r){n===(n=l(i))&&s?s.p(i,r):(s.d(1),s=n(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){i&&I(t),s.d(i)}}}function al(e){let t,l,n=e[32].number+"",s,i,r;function a(){return e[23](e[32])}return{c(){t=y("div"),l=y("span"),s=he(n),m(l,"class","svelte-w239uu"),m(t,"class","cell svelte-w239uu"),X(t,"disabled",!Dt(e[32],e[1],e[2])),X(t,"selected",e[0]&&e[32].year===e[0].getFullYear()&&e[32].month===e[0].getMonth()&&e[32].number===e[0].getDate()),X(t,"today",e[32].year===e[9].getFullYear()&&e[32].month===e[9].getMonth()&&e[32].number===e[9].getDate()),X(t,"other-month",e[32].month!==e[7])},m(o,u){P(o,t,u),c(t,l),c(l,s),i||(r=z(t,"click",a),i=!0)},p(o,u){e=o,u[0]&64&&n!==(n=e[32].number+"")&&be(s,n),u[0]&70&&X(t,"disabled",!Dt(e[32],e[1],e[2])),u[0]&65&&X(t,"selected",e[0]&&e[32].year===e[0].getFullYear()&&e[32].month===e[0].getMonth()&&e[32].number===e[0].getDate()),u[0]&576&&X(t,"today",e[32].year===e[9].getFullYear()&&e[32].month===e[9].getMonth()&&e[32].number===e[9].getDate()),u[0]&192&&X(t,"other-month",e[32].month!==e[7])},d(o){o&&I(t),i=!1,r()}}}function ul(e){let t,l,n=ne(e[6].slice(e[31]*7,e[31]*7+7)),s=[];for(let i=0;i<n.length;i+=1)s[i]=al(Zt(e,n,i));return{c(){t=y("div");for(let i=0;i<s.length;i+=1)s[i].c();l=E(),m(t,"class","week svelte-w239uu")},m(i,r){P(i,t,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);c(t,l)},p(i,r){if(r[0]&4807){n=ne(i[6].slice(i[31]*7,i[31]*7+7));let a;for(a=0;a<n.length;a+=1){const o=Zt(i,n,a);s[a]?s[a].p(o,r):(s[a]=al(o),s[a].c(),s[a].m(t,l))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(i){i&&I(t),ve(s,i)}}}function Vn(e){let t,l,n,s,i,r,a,o,u,k,_,p,d,b,h,g,v,S,D,L,T,O,U,$,B,R,H,F=ne(e[4].months),Y=[];for(let A=0;A<F.length;A+=1)Y[A]=nl(ll(e,F,A));let q=ne(e[4].months),j=[];for(let A=0;A<q.length;A+=1)j[A]=sl(tl(e,q,A));let f=ne(e[5]),N=[];for(let A=0;A<f.length;A+=1)N[A]=il(el(e,f,A));let J=ne(e[5]),W=[];for(let A=0;A<J.length;A+=1)W[A]=rl($t(e,J,A));let se=ne(Array(7)),x=[];for(let A=0;A<se.length;A+=1)x[A]=ol(xt(e,se,A));let Q=ne(Array(6)),ee=[];for(let A=0;A<Q.length;A+=1)ee[A]=ul(Qt(e,Q,A));return{c(){t=y("div"),l=y("div"),n=y("div"),s=y("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',i=E(),r=y("div"),a=y("select");for(let A=0;A<Y.length;A+=1)Y[A].c();o=E(),u=y("select");for(let A=0;A<j.length;A+=1)j[A].c();k=E(),_=Ge("svg"),p=Ge("path"),d=E(),b=y("div"),h=y("select");for(let A=0;A<N.length;A+=1)N[A].c();g=E(),v=y("select");for(let A=0;A<W.length;A+=1)W[A].c();S=E(),D=Ge("svg"),L=Ge("path"),T=E(),O=y("button"),O.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',U=E(),$=y("div");for(let A=0;A<x.length;A+=1)x[A].c();B=E();for(let A=0;A<ee.length;A+=1)ee[A].c();m(s,"type","button"),m(s,"class","page-button svelte-w239uu"),m(s,"tabindex","-1"),m(a,"class","svelte-w239uu"),m(u,"class","dummy-select svelte-w239uu"),m(u,"tabindex","-1"),m(p,"d","M6 0l12 12-12 12z"),m(p,"transform","rotate(90, 12, 12)"),m(_,"xmlns","http://www.w3.org/2000/svg"),m(_,"width","24"),m(_,"height","24"),m(_,"viewBox","0 0 24 24"),m(_,"class","svelte-w239uu"),m(r,"class","dropdown month svelte-w239uu"),m(h,"class","svelte-w239uu"),m(v,"class","dummy-select svelte-w239uu"),m(v,"tabindex","-1"),m(L,"d","M6 0l12 12-12 12z"),m(L,"transform","rotate(90, 12, 12)"),m(D,"xmlns","http://www.w3.org/2000/svg"),m(D,"width","24"),m(D,"height","24"),m(D,"viewBox","0 0 24 24"),m(D,"class","svelte-w239uu"),m(b,"class","dropdown year svelte-w239uu"),m(O,"type","button"),m(O,"class","page-button svelte-w239uu"),m(O,"tabindex","-1"),m(n,"class","top svelte-w239uu"),m($,"class","header svelte-w239uu"),m(l,"class","tab-container svelte-w239uu"),m(l,"tabindex","-1"),m(t,"class","date-time-picker svelte-w239uu"),m(t,"tabindex","0")},m(A,Z){P(A,t,Z),c(t,l),c(l,n),c(n,s),c(n,i),c(n,r),c(r,a);for(let w=0;w<Y.length;w+=1)Y[w]&&Y[w].m(a,null);st(a,e[7]),c(r,o),c(r,u);for(let w=0;w<j.length;w+=1)j[w]&&j[w].m(u,null);c(r,k),c(r,_),c(_,p),c(n,d),c(n,b),c(b,h);for(let w=0;w<N.length;w+=1)N[w]&&N[w].m(h,null);st(h,e[8]),c(b,g),c(b,v);for(let w=0;w<W.length;w+=1)W[w]&&W[w].m(v,null);c(b,S),c(b,D),c(D,L),c(n,T),c(n,O),c(l,U),c(l,$);for(let w=0;w<x.length;w+=1)x[w]&&x[w].m($,null);c(l,B);for(let w=0;w<ee.length;w+=1)ee[w]&&ee[w].m(l,null);R||(H=[z(s,"click",e[19]),z(a,"keydown",e[14]),z(a,"input",e[20]),z(h,"input",e[21]),z(h,"keydown",e[13]),z(O,"click",e[22]),z(t,"focusout",e[18]),z(t,"keydown",e[15])],R=!0)},p(A,Z){if(Z[0]&278){F=ne(A[4].months);let w;for(w=0;w<F.length;w+=1){const te=ll(A,F,w);Y[w]?Y[w].p(te,Z):(Y[w]=nl(te),Y[w].c(),Y[w].m(a,null))}for(;w<Y.length;w+=1)Y[w].d(1);Y.length=F.length}if(Z[0]&128&&st(a,A[7]),Z[0]&144){q=ne(A[4].months);let w;for(w=0;w<q.length;w+=1){const te=tl(A,q,w);j[w]?j[w].p(te,Z):(j[w]=sl(te),j[w].c(),j[w].m(u,null))}for(;w<j.length;w+=1)j[w].d(1);j.length=q.length}if(Z[0]&32){f=ne(A[5]);let w;for(w=0;w<f.length;w+=1){const te=el(A,f,w);N[w]?N[w].p(te,Z):(N[w]=il(te),N[w].c(),N[w].m(h,null))}for(;w<N.length;w+=1)N[w].d(1);N.length=f.length}if(Z[0]&288&&st(h,A[8]),Z[0]&40){J=ne(A[5]);let w;for(w=0;w<J.length;w+=1){const te=$t(A,J,w);W[w]?W[w].p(te,Z):(W[w]=rl(te),W[w].c(),W[w].m(v,null))}for(;w<W.length;w+=1)W[w].d(1);W.length=J.length}if(Z[0]&16){se=ne(Array(7));let w;for(w=0;w<se.length;w+=1){const te=xt(A,se,w);x[w]?x[w].p(te,Z):(x[w]=ol(te),x[w].c(),x[w].m($,null))}for(;w<x.length;w+=1)x[w].d(1);x.length=se.length}if(Z[0]&4807){Q=ne(Array(6));let w;for(w=0;w<Q.length;w+=1){const te=Qt(A,Q,w);ee[w]?ee[w].p(te,Z):(ee[w]=ul(te),ee[w].c(),ee[w].m(l,null))}for(;w<ee.length;w+=1)ee[w].d(1);ee.length=Q.length}},i:re,o:re,d(A){A&&I(t),ve(Y,A),ve(j,A),ve(N,A),ve(W,A),ve(x,A),ve(ee,A),R=!1,ge(H)}}}function He(e){return new Date(e.getTime())}function vt(e,t,l){return e>l?He(l):e<t?He(t):He(e)}function cl(e,t){let l=[];for(let n=e.getFullYear();n<=t.getFullYear();n++)l.push(n);return l}function Dt(e,t,l){const n=new Date(e.year,e.month,e.number),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(l.getFullYear(),l.getMonth(),l.getDate());return n>=s&&n<=i}function Xn(e,t,l){let n,s,i,r;const a=Ue();let{value:o=null}=t;function u(f){f.getTime()!==(o==null?void 0:o.getTime())&&(l(3,h=vt(f,d,b)),l(0,o=He(h)))}function k(f){l(3,h=vt(f,d,b)),!S&&o&&u(h)}const _=new Date,p=new Date;let{min:d=new Date(p.getFullYear()-20,0,1)}=t,{max:b=new Date(p.getFullYear(),11,31,23,59,59,999)}=t,h=He(o||vt(p,d,b)),g=cl(d,b),{locale:v={}}=t,{browseWithoutSelecting:S=!1}=t;function D(f){h.setFullYear(f),k(h)}function L(f){let N=h.getFullYear();f===12?(f=0,N++):f===-1&&(f=11,N--);const J=$e(N,f),W=Math.min(h.getDate(),J);k(new Date(N,f,W,h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()))}function T(f){Dt(f,d,b)&&(h.setFullYear(0),h.setMonth(0),h.setDate(1),h.setFullYear(f.year),h.setMonth(f.month),h.setDate(f.number),u(h),a("select"))}function O(f){if(f.shiftKey&&f.key==="ArrowUp")D(h.getFullYear()-1);else if(f.shiftKey&&f.key==="ArrowDown")D(h.getFullYear()+1);else if(f.shiftKey&&f.key==="ArrowLeft")L(h.getMonth()-1);else if(f.shiftKey&&f.key==="ArrowRight")L(h.getMonth()+1);else return!1;return f.preventDefault(),!0}function U(f){if(f.shiftKey||f.altKey){O(f);return}else if(f.key==="ArrowUp")D(h.getFullYear()-1);else if(f.key==="ArrowDown")D(h.getFullYear()+1);else if(f.key==="ArrowLeft")L(h.getMonth()-1);else if(f.key==="ArrowRight")L(h.getMonth()+1);else{O(f);return}f.preventDefault()}function $(f){if(f.shiftKey||f.altKey){O(f);return}else if(f.key==="ArrowUp"||f.key==="ArrowLeft")L(h.getMonth()-1);else if(f.key==="ArrowDown"||f.key==="ArrowRight")L(h.getMonth()+1);else{O(f);return}f.preventDefault()}function B(f){var J;let N=f.shiftKey||f.altKey;if(((J=f.target)==null?void 0:J.tagName)!=="SELECT"){if(N){O(f);return}else if(f.key==="ArrowUp")h.setDate(h.getDate()-7),u(h);else if(f.key==="ArrowDown")h.setDate(h.getDate()+7),u(h);else if(f.key==="ArrowLeft")h.setDate(h.getDate()-1),u(h);else if(f.key==="ArrowRight")h.setDate(h.getDate()+1),u(h);else if(f.key==="Enter")u(h),a("select");else return;f.preventDefault()}}function R(f){ie.call(this,e,f)}const H=()=>L(h.getMonth()-1),F=f=>L(parseInt(f.currentTarget.value)),Y=f=>D(parseInt(f.currentTarget.value)),q=()=>L(h.getMonth()+1),j=f=>T(f);return e.$$set=f=>{"value"in f&&l(0,o=f.value),"min"in f&&l(1,d=f.min),"max"in f&&l(2,b=f.max),"locale"in f&&l(16,v=f.locale),"browseWithoutSelecting"in f&&l(17,S=f.browseWithoutSelecting)},e.$$.update=()=>{e.$$.dirty[0]&7&&(o&&o>b?u(b):o&&o<d&&u(d)),e.$$.dirty[0]&131081&&h.getTime()!==(o==null?void 0:o.getTime())&&!S&&l(3,h=o?He(o):h),e.$$.dirty[0]&6&&l(5,g=cl(d,b)),e.$$.dirty[0]&65536&&l(4,n=Un(v)),e.$$.dirty[0]&8&&l(8,s=h.getFullYear()),e.$$.dirty[0]&8&&l(7,i=h.getMonth()),e.$$.dirty[0]&24&&l(6,r=Wn(h,n.weekStartsOn))},[o,d,b,h,n,g,r,i,s,_,D,L,T,U,$,B,v,S,R,H,F,Y,q,j]}class Gn extends _e{constructor(t){super(),me(this,t,Xn,Vn,de,{value:0,min:1,max:2,locale:16,browseWithoutSelecting:17},null,[-1,-1])}}function fl(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Qn(e){const t=e-1;return t*t*t+1}function dl(e,{delay:t=0,duration:l=400,easing:n=Qn,x:s=0,y:i=0,opacity:r=0}={}){const a=getComputedStyle(e),o=+a.opacity,u=a.transform==="none"?"":a.transform,k=o*(1-r),[_,p]=Ot(s),[d,b]=Ot(i);return{delay:t,duration:l,easing:n,css:(h,g)=>`
			transform: ${u} translate(${(1-h)*_}${p}, ${(1-h)*d}${b});
			opacity: ${o-k*g}`}}function hl(e,t,l){let n="",s=!0;l=l||new Date(2020,0,1,0,0,0,0);let i=l.getFullYear(),r=l.getMonth(),a=l.getDate(),o=l.getHours(),u=l.getMinutes(),k=l.getSeconds();const _=l.getMilliseconds();function p(g){for(let v=0;v<g.length;v++)if(e.startsWith(g[v]))e=e.slice(1);else{s=!1,e.length===0&&(n=g.slice(v));return}}function d(g,v,S){const D=e.match(g);if(D!=null&&D[0]){e=e.slice(D[0].length);const L=parseInt(D[0]);return L>S||L<v?(s=!1,null):L}else return s=!1,null}function b(g){if(typeof g=="string")p(g);else if(g.id==="yy"){const v=d(/^[0-9]{2}/,0,99);v!==null&&(i=2e3+v)}else if(g.id==="yyyy"){const v=d(/^[0-9]{4}/,0,9999);v!==null&&(i=v)}else if(g.id==="MM"){const v=d(/^[0-9]{2}/,1,12);v!==null&&(r=v-1)}else if(g.id==="dd"){const v=d(/^[0-9]{2}/,1,31);v!==null&&(a=v)}else if(g.id==="HH"){const v=d(/^[0-9]{2}/,0,23);v!==null&&(o=v)}else if(g.id==="mm"){const v=d(/^[0-9]{2}/,0,59);v!==null&&(u=v)}else if(g.id==="ss"){const v=d(/^[0-9]{2}/,0,59);v!==null&&(k=v)}}for(const g of t)if(b(g),!s)break;const h=$e(i,r);return a>h&&(s=!1),{date:s?new Date(i,r,a,o,u,k,_):null,missingPunctuation:n}}function Xe(e){return("0"+e.toString()).slice(-2)}const Zn=[{id:"yyyy",toString:e=>e.getFullYear().toString()},{id:"yy",toString:e=>e.getFullYear().toString().slice(-2)},{id:"MM",toString:e=>Xe(e.getMonth()+1)},{id:"dd",toString:e=>Xe(e.getDate())},{id:"HH",toString:e=>Xe(e.getHours())},{id:"mm",toString:e=>Xe(e.getMinutes())},{id:"ss",toString:e=>Xe(e.getSeconds())}];function xn(e){for(const t of Zn)if(e.startsWith(t.id))return t}function ml(e){const t=[];for(;e.length>0;){const l=xn(e);l?(t.push(l),e=e.slice(l.id.length)):typeof t[t.length-1]=="string"?(t[t.length-1]+=e[0],e=e.slice(1)):(t.push(e[0]),e=e.slice(1))}return t}function _l(e){let t,l,n,s,i;function r(o){e[23](o)}let a={min:e[3],max:e[4],locale:e[8],browseWithoutSelecting:e[9]};return e[11]!==void 0&&(a.value=e[11]),l=new Gn({props:a}),ye.push(()=>qe(l,"value",r)),l.$on("focusout",e[14]),l.$on("select",e[16]),{c(){t=y("div"),fe(l.$$.fragment),m(t,"class","picker svelte-1bsxr9h"),X(t,"visible",e[2])},m(o,u){P(o,t,u),ae(l,t,null),i=!0},p(o,u){e=o;const k={};u&8&&(k.min=e[3]),u&16&&(k.max=e[4]),u&256&&(k.locale=e[8]),u&512&&(k.browseWithoutSelecting=e[9]),!n&&u&2048&&(n=!0,k.value=e[11],ze(()=>n=!1)),l.$set(k),(!i||u&4)&&X(t,"visible",e[2])},i(o){i||(C(l.$$.fragment,o),o&&xe(()=>{i&&(s||(s=Ht(t,dl,{duration:80,easing:fl,y:-5},!0)),s.run(1))}),i=!0)},o(o){G(l.$$.fragment,o),o&&(s||(s=Ht(t,dl,{duration:80,easing:fl,y:-5},!1)),s.run(0)),i=!1},d(o){o&&I(t),ue(l),o&&s&&s.end()}}}function $n(e){let t,l,n,s,i,r,a,o=e[2]&&!e[6]&&_l(e);return{c(){t=y("div"),l=y("input"),n=E(),o&&o.c(),m(l,"type","text"),l.value=e[0],m(l,"placeholder",e[5]),l.disabled=e[6],m(l,"class","svelte-1bsxr9h"),X(l,"invalid",!e[1]),m(t,"class",s="date-time-field "+e[7]+" svelte-1bsxr9h")},m(u,k){P(u,t,k),c(t,l),c(t,n),o&&o.m(t,null),i=!0,r||(a=[z(l,"focus",e[20]),z(l,"mousedown",e[21]),z(l,"input",e[22]),z(t,"focusout",e[14]),z(t,"keydown",e[15])],r=!0)},p(u,[k]){(!i||k&1&&l.value!==u[0])&&(l.value=u[0]),(!i||k&32)&&m(l,"placeholder",u[5]),(!i||k&64)&&(l.disabled=u[6]),(!i||k&2)&&X(l,"invalid",!u[1]),u[2]&&!u[6]?o?(o.p(u,k),k&68&&C(o,1)):(o=_l(u),o.c(),C(o,1),o.m(t,null)):o&&(ct(),G(o,1,1,()=>{o=null}),ft()),(!i||k&128&&s!==(s="date-time-field "+u[7]+" svelte-1bsxr9h"))&&m(t,"class",s)},i(u){i||(C(o),i=!0)},o(u){G(o),i=!1},d(u){u&&I(t),o&&o.d(),r=!1,ge(a)}}}function es(e,t,l){let n,s;const i=Ue(),r=new Date,a=Al(null);Ft(e,a,f=>l(24,s=f));const o=(()=>({subscribe:a.subscribe,set:f=>{f===null?(a.set(null),l(17,u=f)):f.getTime()!==(s==null?void 0:s.getTime())&&(a.set(f),l(17,u=f))}}))();Ft(e,o,f=>l(11,n=f));let{value:u=null}=t,{min:k=new Date(r.getFullYear()-20,0,1)}=t,{max:_=new Date(r.getFullYear(),11,31,23,59,59,999)}=t,{placeholder:p="2020-12-31 23:00:00"}=t,{valid:d=!0}=t,{disabled:b=!1}=t,{class:h=""}=t,{format:g="yyyy-MM-dd HH:mm:ss"}=t,v=ml(g),{locale:S={}}=t;function D(f,N){l(0,L=Gt(f,N))}let{text:L=Gt(n,v)}=t;function T(f,N){if(f.length){const J=hl(f,N,n);J.date!==null?(l(1,d=!0),o.set(J.date)):l(1,d=!1)}else l(1,d=!0),u&&(l(17,u=null),o.set(null))}let{visible:O=!1}=t,{closeOnSelection:U=!1}=t,{browseWithoutSelecting:$=!1}=t;function B(f){(f==null?void 0:f.currentTarget)instanceof HTMLElement&&f.relatedTarget&&f.relatedTarget instanceof Node&&f.currentTarget.contains(f.relatedTarget)||l(2,O=!1)}function R(f){f.key==="Escape"&&O?(l(2,O=!1),f.preventDefault(),f.stopPropagation()):f.key==="Enter"&&(l(2,O=!O),f.preventDefault())}function H(f){i("select",f.detail),U&&l(2,O=!1)}const F=()=>l(2,O=!0),Y=()=>l(2,O=!0),q=f=>{if(f instanceof InputEvent&&f.inputType==="insertText"&&typeof f.data=="string"&&f.currentTarget.value===L+f.data){let N=hl(L,v,n);if(N.missingPunctuation!==""&&!N.missingPunctuation.startsWith(f.data)){l(0,L=L+N.missingPunctuation+f.data);return}}l(0,L=f.currentTarget.value)};function j(f){n=f,o.set(n)}return e.$$set=f=>{"value"in f&&l(17,u=f.value),"min"in f&&l(3,k=f.min),"max"in f&&l(4,_=f.max),"placeholder"in f&&l(5,p=f.placeholder),"valid"in f&&l(1,d=f.valid),"disabled"in f&&l(6,b=f.disabled),"class"in f&&l(7,h=f.class),"format"in f&&l(18,g=f.format),"locale"in f&&l(8,S=f.locale),"text"in f&&l(0,L=f.text),"visible"in f&&l(2,O=f.visible),"closeOnSelection"in f&&l(19,U=f.closeOnSelection),"browseWithoutSelecting"in f&&l(9,$=f.browseWithoutSelecting)},e.$$.update=()=>{e.$$.dirty&131072&&o.set(u),e.$$.dirty&262144&&l(10,v=ml(g)),e.$$.dirty&3072&&D(n,v),e.$$.dirty&1025&&T(L,v)},[L,d,O,k,_,p,b,h,S,$,v,n,a,o,B,R,H,u,g,U,F,Y,q,j]}class ts extends _e{constructor(t){super(),me(this,t,es,$n,de,{value:17,min:3,max:4,placeholder:5,valid:1,disabled:6,class:7,format:18,locale:8,text:0,visible:2,closeOnSelection:19,browseWithoutSelecting:9})}}function ls(e){let t,l,n,s,i,r,a,o,u,k,_,p,d,b,h,g,v,S,D,L,T,O,U,$,B,R,H,F,Y,q,j,f,N,J,W,se,x,Q,ee,A,Z,w,te,Se,De,Ee,we,Ne,Ae,pe=JSON.stringify(e[2],null,2)+"",M,K,oe,Me;b=new ts({props:{value:e[4],format:"dd.MM.yyyy",locale:{weekdays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Янаврь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekStartsOn:1},closeOnSelection:!0,placeholder:ns(e[4])}}),R=new Ke({props:{placeholder:e[5].sender,data:e[0]}}),R.$on("select",e[12]),R.$on("clear",e[13]),J=new Ke({props:{placeholder:e[5].receiver,data:e[0]}}),J.$on("select",e[14]),J.$on("clear",e[15]),w=new Ke({props:{placeholder:e[5].payer,data:e[0]}}),w.$on("select",e[16]),w.$on("clear",e[17]);const Te=e[10].default,ce=et(Te,e,e[9],null);return{c(){t=y("div"),l=y("h5"),l.textContent="Товарно-транспортная накладная",n=E(),s=y("div"),i=y("div"),r=y("label"),r.textContent="Номер и дата",a=E(),o=y("div"),u=y("div"),k=y("div"),_=y("input"),p=E(),d=y("p"),fe(b.$$.fragment),h=E(),g=y("div"),g.innerHTML='<div class="field-label is-small is-hidden-mobile"><label for="" class="label">Город</label></div> <div class="field-body"><div class="field"><p class="control"><input type="text" class="input is-small" placeholder="город" name="city" maxlength="100" form="documentform"/></p></div></div>',v=E(),S=y("div"),S.innerHTML='<div class="field-label is-small is-hidden-mobile"><label for="" class="label">Номер ТС</label></div> <div class="field-body"><div class="field"><p class="control"><input type="text" class="input is-small" placeholder="№ ТС" name="truck" maxlength="20" form="documentform"/></p></div></div>',D=E(),L=y("div"),T=y("div"),T.innerHTML='<label for="" class="label">Отправитель</label>',O=E(),U=y("div"),$=y("div"),B=y("div"),fe(R.$$.fragment),H=E(),F=y("div"),Y=y("div"),Y.innerHTML='<label for="" class="label">Получатель</label>',q=E(),j=y("div"),f=y("div"),N=y("div"),fe(J.$$.fragment),W=E(),se=y("div"),x=y("div"),x.innerHTML='<label for="" class="label">Плательщик</label>',Q=E(),ee=y("div"),A=y("div"),Z=y("div"),fe(w.$$.fragment),te=E(),Se=y("div"),De=y("div"),ce&&ce.c(),Ee=E(),we=y("form"),we.innerHTML='<div class="field is-horizontal"><div class="field-label is-small is-hidden-mobile"><label for="" class="label">Особые отметки</label></div> <div class="field-body"><div class="field"><p class="control"><textarea class="textarea is-small" name="spec_notes" placeholder="особые отметки" rows="2"></textarea></p></div></div></div> <div class="field is-horizontal"><div class="field-label is-small is-hidden-mobile"><label for="" class="label">Адрес доставки</label></div> <div class="field-body"><div class="field"><p class="control"><input type="text" class="input is-small" placeholder="адрес доставки" name="destination_address" maxlength="256"/></p></div></div></div> <div class="field is-horizontal"><div class="field-label is-small is-hidden-mobile"><label for="" class="label">Условия договора</label></div> <div class="field-body"><div class="field"><p class="control"><textarea class="textarea is-small" name="text" id="" placeholder="условия договора" rows="3"></textarea></p></div></div></div> <div class="field is-horizontal"><div class="field-label is-small"><label for="" class="label"></label></div> <div class="field-body"><div class="field is-grouped"><p class="control is-expanded"><button class="button is-small is-link is-outlined is-fullwidth" type="submit">Сохранить</button></p> <p class="control"><button class="button is-small is-outlined" type="reset">Отмена</button></p></div></div></div>',Ne=E(),Ae=y("pre"),M=he(pe),m(l,"class","title is-5 has-text-centered"),m(r,"for",""),m(r,"class","label"),m(i,"class","field-label is-small is-hidden-mobile"),m(_,"type","text"),m(_,"class","input is-small"),m(_,"placeholder","номер"),m(_,"name","number"),m(_,"maxlength","15"),_.required=!0,_.disabled=!0,m(k,"class","control"),m(d,"class","control control-dateinput"),m(u,"class","field is-grouped is-justify-content-space-between"),m(o,"class","field-body"),m(s,"class","field is-horizontal"),m(g,"class","field is-horizontal"),m(S,"class","field is-horizontal"),m(T,"class","field-label is-small is-hidden-mobile"),m(B,"class","control"),m($,"class","field"),m(U,"class","field-body"),m(L,"class","field is-horizontal"),m(Y,"class","field-label is-small is-hidden-mobile"),m(N,"class","control"),m(f,"class","field"),m(j,"class","field-body"),m(F,"class","field is-horizontal"),m(x,"class","field-label is-small is-hidden-mobile"),m(Z,"class","control"),m(A,"class","field"),m(ee,"class","field-body"),m(se,"class","field is-horizontal"),m(De,"class","control"),m(Se,"class","field"),m(we,"id","documentform"),m(t,"class","box")},m(V,le){P(V,t,le),c(t,l),c(t,n),c(t,s),c(s,i),c(i,r),c(s,a),c(s,o),c(o,u),c(u,k),c(k,_),ke(_,e[3]),c(u,p),c(u,d),ae(b,d,null),c(t,h),c(t,g),c(t,v),c(t,S),c(t,D),c(t,L),c(L,T),c(L,O),c(L,U),c(U,$),c($,B),ae(R,B,null),c(t,H),c(t,F),c(F,Y),c(F,q),c(F,j),c(j,f),c(f,N),ae(J,N,null),c(t,W),c(t,se),c(se,x),c(se,Q),c(se,ee),c(ee,A),c(A,Z),ae(w,Z,null),c(t,te),c(t,Se),c(Se,De),ce&&ce.m(De,null),c(t,Ee),c(t,we),c(t,Ne),c(t,Ae),c(Ae,M),K=!0,oe||(Me=[z(r,"click",e[7]),z(_,"input",e[11]),z(k,"dblclick",ss),z(we,"submit",Ie(e[6]))],oe=!0)},p(V,[le]){le&8&&_.value!==V[3]&&ke(_,V[3]);const Fe={};le&1&&(Fe.data=V[0]),R.$set(Fe);const Je={};le&1&&(Je.data=V[0]),J.$set(Je);const Be={};le&1&&(Be.data=V[0]),w.$set(Be),ce&&ce.p&&(!K||le&512)&&lt(ce,Te,V,V[9],K?tt(Te,V[9],le,null):nt(V[9]),null),(!K||le&4)&&pe!==(pe=JSON.stringify(V[2],null,2)+"")&&be(M,pe)},i(V){K||(C(b.$$.fragment,V),C(R.$$.fragment,V),C(J.$$.fragment,V),C(w.$$.fragment,V),C(ce,V),K=!0)},o(V){G(b.$$.fragment,V),G(R.$$.fragment,V),G(J.$$.fragment,V),G(w.$$.fragment,V),G(ce,V),K=!1},d(V){V&&I(t),ue(b),ue(R),ue(J),ue(w),ce&&ce.d(V),oe=!1,ge(Me)}}}function ns(e){return e.toLocaleDateString()}function yt(e){let t=parseFloat(e.replace(/\s/g,"").replace(",","."));return isNaN(t)?0:t}const ss=e=>e.currentTarget.querySelector("[name=number]").removeAttribute("disabled");function is(e,t,l){let{$$slots:n={},$$scope:s}=t,i=new Date;const r=document.querySelector("[name=csrfmiddlewaretoken]").value,a=async function(H,F){try{const Y=await fetch(F,{method:"post",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:JSON.stringify(H)});if(Y.ok)return Y.json();throw new Error(`${Y.status} - ${Y.statusText}`)}catch(Y){return alert(Y.message),Y}finally{}},o={sender:"отправитель",payer:"плательщик",receiver:"получатель"};let u=[{name:"загрузка..."}];const k=["input","is-small"];let _={sender:{},payer:{},receiver:{}};const p=()=>{let H=[];return document.querySelectorAll("tr.item").forEach(Y=>{let q={};Y.querySelectorAll("input").forEach(f=>{q[f.name]=f.value}),q.name=q.search,delete q.search,q.price=yt(q.price),q.item_sum=yt(q.item_sum),q.item_sum!=0&&q.name.trim()!=""&&H.push(q)}),H};let d={};const b=async H=>{l(2,d.number=document.querySelector('[name="number"]').value,d);let F=document.querySelector(".date-time-field input").value.split(".");l(2,d.date=F[2]+"-"+F[1]+"-"+F[0],d);let Y=H.currentTarget;const q=new FormData(Y);let j=Object.fromEntries(q.entries());if(j.doc_sum=yt(document.querySelector("#documentform-sum").textContent),l(2,d={...d,...j}),l(2,d.sender=_.sender.id,d),l(2,d.receiver=_.receiver.id,d),l(2,d.payer=_.payer.id,d),!(d.number.trim()&&d.date.trim())){alert("надо заполнить номер и дату обязательно");return}let f={...d},N=await a(f,h.documents);p().forEach(W=>{W.document=N.id,a(W,h.documentitems)})},h={base:"http://127.0.0.1:8000/api/v1/",get org(){return this.base+"organizations/"},get num(){return this.base+"documentnumber/"},get documents(){return this.base+"documents/"},get documentitems(){return this.base+"documentitems/"}};async function g(){const H=await fetch(h.org).then(F=>F.json());l(0,u=JSON.parse(JSON.stringify(H,["name","inn","id"])))}let v="";async function S(){const H=await fetch(h.num).then(F=>F.json());l(3,v=H.number)}mt(()=>{g();for(let H of k)document.querySelectorAll("[data-svelte-search] input, .date-time-field input").forEach(Y=>{Y.classList.add(H)})});let{actiate_form:D=!1}=t;function L(){v=this.value,l(3,v)}const T=({detail:H})=>l(1,_.sender=H.original,_),O=()=>l(1,_.sender={},_),U=({detail:H})=>l(1,_.receiver=H.original,_),$=()=>l(1,_.receiver={},_),B=({detail:H})=>l(1,_.payer=H.original,_),R=()=>l(1,_.payer={},_);return e.$$set=H=>{"actiate_form"in H&&l(8,D=H.actiate_form),"$$scope"in H&&l(9,s=H.$$scope)},e.$$.update=()=>{e.$$.dirty&256&&D&&(S(),document.querySelector("[name=number]").setAttribute("disabled","true"))},[u,_,d,v,i,o,b,S,D,s,n,L,T,O,U,$,B,R]}class rs extends _e{constructor(t){super(),me(this,t,is,ls,de,{actiate_form:8})}}function os(e){let t,l;return t=new qn({}),{c(){fe(t.$$.fragment)},m(n,s){ae(t,n,s),l=!0},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){G(t.$$.fragment,n),l=!1},d(n){ue(t,n)}}}function as(e){let t,l,n;function s(r){e[4](r)}let i={$$slots:{default:[os]},$$scope:{ctx:e}};return e[1]!==void 0&&(i.actiate_form=e[1]),t=new rs({props:i}),ye.push(()=>qe(t,"actiate_form",s)),{c(){fe(t.$$.fragment)},m(r,a){ae(t,r,a),n=!0},p(r,a){const o={};a&1024&&(o.$$scope={dirty:a,ctx:r}),!l&&a&2&&(l=!0,o.actiate_form=r[1],ze(()=>l=!1)),t.$set(o)},i(r){n||(C(t.$$.fragment,r),n=!0)},o(r){G(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function us(e){let t,l,n,s,i,r,a,o,u,k,_,p,d,b,h;function g(L){e[5](L)}let v={modal_style:"justify-content: flex-start",content_style:"top: 3rem; max-width: 70rem; min-width: 25rem; width: 100%; max-height: calc(100% - 3rem)",$$slots:{default:[as]},$$scope:{ctx:e}};e[1]!==void 0&&(v.active=e[1]),t=new _n({props:v}),ye.push(()=>qe(t,"active",g));function S(L){e[6](L)}let D={};return e[0]!==void 0&&(D.disabled=e[0]),u=new dn({props:D}),ye.push(()=>qe(u,"disabled",S)),u.$on("notification",e[7]),u.$on("updatetable",e[3]),{c(){fe(t.$$.fragment),n=E(),s=y("h4"),s.textContent="Список документов",i=E(),r=y("form"),a=y("div"),o=E(),fe(u.$$.fragment),_=E(),p=y("button"),p.innerHTML='<i class="fa-light fa-plus"></i>',m(s,"class","title is-4 pl-4 pt-5"),m(a,"id",e[2]),m(p,"class","button is-link is-outlined mt-1")},m(L,T){ae(t,L,T),P(L,n,T),P(L,s,T),P(L,i,T),P(L,r,T),c(r,a),c(r,o),ae(u,r,null),c(r,_),c(r,p),d=!0,b||(h=z(p,"click",Ie(e[8])),b=!0)},p(L,[T]){const O={};T&1026&&(O.$$scope={dirty:T,ctx:L}),!l&&T&2&&(l=!0,O.active=L[1],ze(()=>l=!1)),t.$set(O);const U={};!k&&T&1&&(k=!0,U.disabled=L[0],ze(()=>k=!1)),u.$set(U)},i(L){d||(C(t.$$.fragment,L),C(u.$$.fragment,L),d=!0)},o(L){G(t.$$.fragment,L),G(u.$$.fragment,L),d=!1},d(L){L&&(I(n),I(s),I(i),I(r)),ue(t,L),ue(u),b=!1,h()}}}const cs="http://127.0.0.1:8000/api/v1/documents/",fs="/document/";function ds(e){let t=JSON.parse(JSON.stringify(e,["id","number","city","truck","destination_address","doc_sum"]));for(let l=0;l<t.length;l++)t[l].sender=e[l].sender?e[l].sender.name:"",t[l].receiver=e[l].receiver?e[l].receiver.name:"",t[l].payer=e[l].payer?e[l].payer.name:"",t[l].date=new Date(e[l].date).toLocaleDateString("ru"),t[l].created='<i class="fa-light fa-calendar-circle-plus" title="'+new Date(e[l].created).toLocaleString("ru")+'"></i>',t[l].modified="<i class='fa-light fa-calendar-pen' title='"+new Date(e[l].modified).toLocaleString("ru")+"'></i>",t[l].document=t[l].number+" от "+t[l].date;return JSON.parse(JSON.stringify(t,["id","document","doc_sum","sender","receiver","payer","city","truck","destination_address","created","modified"]))}function hs(e,t){return e.id<t.id?1:e.id>t.id?-1:0}function ms(e,t,l){let n=!0,s=!1,i;const r="tablegen_"+Math.round(Math.random()*1e4),a=async()=>{const d=await fetch(cs).then(b=>b.json());i==null||i.$destroy(),i=new Cn({target:document.getElementById(r),props:{table_content:ds(d).sort(hs),href:fs,checkbox_name:"id"}})};mt(a),document.querySelector("#navbar-item-documents").classList.add("is-active");function o(d){s=d,l(1,s)}function u(d){s=d,l(1,s)}function k(d){n=d,l(0,n)}function _(d){ie.call(this,e,d)}return[n,s,r,a,o,u,k,_,()=>l(1,s=!0)]}class _s extends _e{constructor(t){super(),me(this,t,ms,us,de,{})}}function gs(e){let t,l;return t=new _s({}),{c(){fe(t.$$.fragment)},m(n,s){ae(t,n,s),l=!0},p:re,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){G(t.$$.fragment,n),l=!1},d(n){ue(t,n)}}}class bs extends _e{constructor(t){super(),me(this,t,null,gs,de,{})}}new bs({target:document.getElementById("app")});
