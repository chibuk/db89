var De=Object.defineProperty;var Ie=(t,e,n)=>e in t?De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>(Ie(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function L(){}function Fe(t,e){for(const n in e)t[n]=e[n];return t}function Se(t){return t()}function ge(){return Object.create(null)}function G(t){t.forEach(Se)}function Me(t){return typeof t=="function"}function P(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Be(t){return Object.keys(t).length===0}function Re(t,e,n,l){if(t){const s=Oe(t,e,n,l);return t[0](s)}}function Oe(t,e,n,l){return t[1]&&l?Fe(n.ctx.slice(),t[1](l(e))):n.ctx}function Xe(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],c=Math.max(e.dirty.length,s.length);for(let u=0;u<c;u+=1)i[u]=e.dirty[u]|s[u];return i}return e.dirty|s}return e.dirty}function Je(t,e,n,l,s,i){if(s){const c=Oe(e,n,l,i);t.p(c,s)}}function Ke(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function b(t,e){t.appendChild(e)}function N(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function Ue(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function S(){return ee(" ")}function O(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ve(t){return Array.from(t.childNodes)}function Pe(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function oe(t,e,n){t.classList.toggle(e,!!n)}function Ge(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}class Qe{constructor(e=!1){$(this,"is_svg",!1);$(this,"e");$(this,"n");$(this,"t");$(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Ue(n.nodeName):this.e=v(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)N(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(x)}}let Z;function Q(t){Z=t}function fe(){if(!Z)throw new Error("Function called outside component initialization");return Z}function We(t){fe().$$.on_mount.push(t)}function $e(t){fe().$$.on_destroy.push(t)}function _e(){const t=fe();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Ge(e,n,{cancelable:l});return s.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}const X=[],A=[];let U=[];const re=[],Ye=Promise.resolve();let ue=!1;function Ze(){ue||(ue=!0,Ye.then(ze))}function de(t){U.push(t)}function J(t){re.push(t)}const ce=new Set;let B=0;function ze(){if(B!==0)return;const t=Z;do{try{for(;B<X.length;){const e=X[B];B++,Q(e),et(e.$$)}}catch(e){throw X.length=0,B=0,e}for(Q(null),X.length=0,B=0;A.length;)A.pop()();for(let e=0;e<U.length;e+=1){const n=U[e];ce.has(n)||(ce.add(n),n())}U.length=0}while(X.length);for(;re.length;)re.pop()();ue=!1,ce.clear(),Q(t)}function et(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function tt(t){const e=[],n=[];U.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),U=e}const se=new Set;let nt;function H(t,e){t&&t.i&&(se.delete(t),t.i(e))}function D(t,e,n,l){if(t&&t.o){if(se.has(t))return;se.add(t),nt.c.push(()=>{se.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function j(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function K(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function V(t){t&&t.c()}function I(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),de(()=>{const i=t.$$.on_mount.map(Se).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...i):G(i),t.$$.on_mount=[]}),s.forEach(de)}function F(t,e){const n=t.$$;n.fragment!==null&&(tt(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(X.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,l,s,i,c,u=[-1]){const m=Z;Q(t);const o=t.$$={fragment:null,ctx:[],props:i,update:L,not_equal:s,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:ge(),dirty:u,skip_bound:!1,root:e.target||m.$$.root};c&&c(o.root);let k=!1;if(o.ctx=n?n(t,e.props||{},(d,a,...f)=>{const p=f.length?f[0]:a;return o.ctx&&s(o.ctx[d],o.ctx[d]=p)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](p),k&&lt(t,d)),a}):[],o.update(),k=!0,G(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const d=Ve(e.target);o.fragment&&o.fragment.l(d),d.forEach(x)}else o.fragment&&o.fragment.c();e.intro&&H(t.$$.fragment),I(t,e.target,e.anchor),ze()}Q(m)}class C{constructor(){$(this,"$$");$(this,"$$set")}$destroy(){F(this,1),this.$destroy=L}$on(e,n){if(!Me(n))return L;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const R=[];function it(t,e=L){let n;const l=new Set;function s(u){if(P(t,u)&&(t=u,n)){const m=!R.length;for(const o of l)o[1](),R.push(o,t);if(m){for(let o=0;o<R.length;o+=2)R[o][0](R[o+1]);R.length=0}}}function i(u){s(u(t))}function c(u,m=L){const o=[u,m];return l.add(o),l.size===1&&(n=e(s,i)||L),u(t),()=>{l.delete(o),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:c}}const W=it(!1);function ot(t){let e,n,l,s,i,c,u,m,o,k,d;return{c(){e=v("div"),n=v("div"),l=S(),s=v("div"),i=v("form"),c=v("div"),u=v("div"),m=S(),o=v("div"),o.innerHTML='<p class="control"><button type="submit" class="button is-success svelte-1vm7l7d" title="Подтвердить"><span class="icon is-small"><i class="fa-light fa-check"></i></span><span>Да</span></button></p> <p class="control"><button type="reset" class="button is-danger is-outlined svelte-1vm7l7d" title="Отменить"><span class="icon is-small"><i class="fa-light fa-xmark"></i></span><span>Нет</span></button></p>',h(n,"class","modal-background"),h(u,"class","container content"),h(o,"class","field is-grouped is-grouped-centered"),h(c,"class","message-body"),h(i,"class","message is-warning"),h(s,"class","modal-content"),h(e,"class","modal"),oe(e,"is-active",t[0])},m(a,f){N(a,e,f),b(e,n),b(e,l),b(e,s),b(s,i),b(i,c),b(c,u),u.innerHTML=t[1],b(c,m),b(c,o),k||(d=[O(n,"click",t[3]),O(i,"submit",Y(t[2])),O(i,"reset",Y(t[3]))],k=!0)},p(a,[f]){f&2&&(u.innerHTML=a[1]),f&1&&oe(e,"is-active",a[0])},i:L,o:L,d(a){a&&x(e),k=!1,G(d)}}}let be="modalevent";function at(t,e,n){const l=_e();let{htmldata:s="Sample modal data"}=e,{active:i=!1}=e,c=!1;const u=()=>{c=!0,n(0,i=!1),l(be,c)},m=()=>{c=!1,n(0,i=!1),l(be,c)};return t.$$set=o=>{"htmldata"in o&&n(1,s=o.htmldata),"active"in o&&n(0,i=o.active)},[i,s,u,m]}class ct extends C{constructor(e){super(),q(this,e,at,ot,P,{htmldata:1,active:0})}}function rt(t){let e,n,l,s,i,c,u,m,o;function k(a){t[5](a)}let d={htmldata:ut};return t[1]!==void 0&&(d.active=t[1]),i=new ct({props:d}),A.push(()=>K(i,"active",k)),i.$on("modalevent",t[3]),{c(){e=v("button"),n=v("i"),s=S(),V(i.$$.fragment),h(n,"class","fa-light fa-trash-xmark"),h(e,"type","submit"),h(e,"class","button is-link is-outlined mt-1 ml-2"),e.disabled=l=!t[0],h(e,"title","Удалить отмеченные")},m(a,f){N(a,e,f),b(e,n),N(a,s,f),I(i,a,f),u=!0,m||(o=O(e,"click",Y(t[2])),m=!0)},p(a,[f]){(!u||f&1&&l!==(l=!a[0]))&&(e.disabled=l);const p={};!c&&f&2&&(c=!0,p.active=a[1],J(()=>c=!1)),i.$set(p)},i(a){u||(H(i.$$.fragment,a),u=!0)},o(a){D(i.$$.fragment,a),u=!1},d(a){a&&(x(e),x(s)),F(i,a),m=!1,o()}}}let ut="<p>Удаление <span class='has-text-danger-dark'>необратимо</span>! Удалить?</p>";const dt="notification";function ft(t,e,n){let{uriPath:l=""}=e;const s=document.querySelector("[name=csrfmiddlewaretoken]").value,i="https://"+document.domain+app.dataset.api;let c=!1;const u=_e();let{disabled:m=!0}=e,o=W.subscribe(_=>n(0,m=_));$e(o);const k={add_class:"is-danger",text:"Не удалось удалить:"};let d=null;const a=_=>{d=_.currentTarget,n(1,c=!0)};async function f(_){if(!_.detail)return;const y=d.parentElement;let r="";const E=new FormData(y);for(let T of E.values())T&&(r+=await p(T));if(u("updatetable"),r){let T={...k};T.text+=r,u(dt,T)}W.update(T=>!1)}const p=async _=>{try{const y=await fetch(`${i}${_}/`,{method:"delete",headers:{"X-CSRFToken":s}});return y.ok?"":`<br> id: ${_}, ${y.status} - ${y.statusText}`}catch(y){return`<br> id: ${_}, ${y.message}`}};function g(_){c=_,n(1,c)}return t.$$set=_=>{"uriPath"in _&&n(4,l=_.uriPath),"disabled"in _&&n(0,m=_.disabled)},[m,c,a,f,l,g]}class _t extends C{constructor(e){super(),q(this,e,ft,rt,P,{uriPath:4,disabled:0})}}function ye(t,e,n){const l=t.slice();l[8]=e[n];const s=Object.values(l[8]);return l[9]=s,l}function ve(t,e,n){const l=t.slice();return l[12]=e[n],l}function ke(t,e,n){const l=t.slice();return l[15]=e[n],l}function we(t){let e,n=t[5](t[15])+"",l;return{c(){e=v("th"),l=ee(n),h(e,"class","has-text-grey svelte-rgboen")},m(s,i){N(s,e,i),b(e,l)},p(s,i){i&1&&n!==(n=s[5](s[15])+"")&&Pe(l,n)},d(s){s&&x(e)}}}function Te(t){let e,n=t[12]+"";return{c(){e=v("td"),h(e,"class","svelte-rgboen")},m(l,s){N(l,e,s),e.innerHTML=n},p(l,s){s&1&&n!==(n=l[12]+"")&&(e.innerHTML=n)},d(l){l&&x(e)}}}function Ee(t){let e,n,l,s,i,c,u,m,o=t[9][1]+"",k,d,a,f,p,g,_=j(t[9].slice(2)),y=[];for(let r=0;r<_.length;r+=1)y[r]=Te(ve(t,_,r));return{c(){e=v("tr"),n=v("td"),l=v("label"),s=v("input"),c=S(),u=v("td"),m=v("a"),k=ee(o),a=S();for(let r=0;r<y.length;r+=1)y[r].c();f=S(),h(s,"type","checkbox"),h(s,"name",t[2]),s.value=i=t[9][0],h(n,"class","svelte-rgboen"),h(m,"href",d=""+(t[1]+t[9][0])),h(m,"class","svelte-rgboen"),h(u,"class","svelte-rgboen")},m(r,E){N(r,e,E),b(e,n),b(n,l),b(l,s),b(e,c),b(e,u),b(u,m),b(m,k),b(e,a);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(e,null);b(e,f),p||(g=O(s,"change",t[3]),p=!0)},p(r,E){if(E&4&&h(s,"name",r[2]),E&1&&i!==(i=r[9][0])&&(s.value=i),E&1&&o!==(o=r[9][1]+"")&&Pe(k,o),E&3&&d!==(d=""+(r[1]+r[9][0]))&&h(m,"href",d),E&1){_=j(r[9].slice(2));let T;for(T=0;T<_.length;T+=1){const te=ve(r,_,T);y[T]?y[T].p(te,E):(y[T]=Te(te),y[T].c(),y[T].m(e,f))}for(;T<y.length;T+=1)y[T].d(1);y.length=_.length}},d(r){r&&x(e),ie(y,r),p=!1,g()}}}function ht(t){let e,n,l,s,i,c,u,m,o,k,d,a=j(Object.keys(t[0][0]).slice(1)),f=[];for(let _=0;_<a.length;_+=1)f[_]=we(ke(t,a,_));let p=j(t[0]),g=[];for(let _=0;_<p.length;_+=1)g[_]=Ee(ye(t,p,_));return{c(){e=v("div"),n=v("table"),l=v("thead"),s=v("tr"),i=v("th"),c=v("input"),u=S();for(let _=0;_<f.length;_+=1)f[_].c();m=S(),o=v("tbody");for(let _=0;_<g.length;_+=1)g[_].c();h(c,"type","checkbox"),h(c,"id",Ae),h(i,"class","svelte-rgboen"),h(n,"class","table is-hoverable is-striped has-background-white-ter"),h(e,"class","svelte-rgboen")},m(_,y){N(_,e,y),b(e,n),b(n,l),b(l,s),b(s,i),b(i,c),b(s,u);for(let r=0;r<f.length;r+=1)f[r]&&f[r].m(s,null);b(n,m),b(n,o);for(let r=0;r<g.length;r+=1)g[r]&&g[r].m(o,null);k||(d=O(c,"change",t[4]),k=!0)},p(_,[y]){if(y&33){a=j(Object.keys(_[0][0]).slice(1));let r;for(r=0;r<a.length;r+=1){const E=ke(_,a,r);f[r]?f[r].p(E,y):(f[r]=we(E),f[r].c(),f[r].m(s,null))}for(;r<f.length;r+=1)f[r].d(1);f.length=a.length}if(y&15){p=j(_[0]);let r;for(r=0;r<p.length;r+=1){const E=ye(_,p,r);g[r]?g[r].p(E,y):(g[r]=Ee(E),g[r].c(),g[r].m(o,null))}for(;r<g.length;r+=1)g[r].d(1);g.length=p.length}},i:L,o:L,d(_){_&&x(e),ie(f,_),ie(g,_),k=!1,d()}}}const xe="has-background-warning-light",Ae="tablegen-all";function mt(t,e,n){let{table_content:l=[]}=e,{href:s="/item/"}=e,{checkbox_name:i="id"}=e;$e(()=>W.update(d=>!1));const c=new Set;function u(d){let a=d.currentTarget;m(a)}const m=d=>{d.checked?(c.add(d.value),W.update(a=>!0),d.parentNode.parentNode.parentNode.classList.add(xe)):(document.querySelector(`#${Ae}`).checked=!1,c.delete(d.value),c.size==0&&W.update(a=>!1),d.parentNode.parentNode.parentNode.classList.remove(xe))},o=d=>{let a=d.currentTarget,f=document.getElementsByName(i);if(a.checked)for(let p of f)p.checked=!0,m(p);else for(let p of f)p.checked=!1,m(p)},k=d=>{const a={name:"Наименование",address:"Адрес",inn:"ИНН",kpp:"КПП",ogrn:"ОГРН",bank:"Банк",bik:"БИК",pay_account:"Номер счёта",kor_account:"Корр. счёт",phone:"Телефон",number:"Номер",date:"Дата",city:"Город",truck:"Авто",spec_notes:"Особые отметки",destination_address:"Адрес назначения",text:"Условия договора",sender:"Отправитель",receiver:"Получатель",payer:"Плательщик",created:" ",modified:" ",document:"Документ",doc_sum:"Сумма"};return a[d]?a[d]:d};return t.$$set=d=>{"table_content"in d&&n(0,l=d.table_content),"href"in d&&n(1,s=d.href),"checkbox_name"in d&&n(2,i=d.checkbox_name)},[l,s,i,u,o,k]}class pt extends C{constructor(e){super(),q(this,e,mt,ht,P,{table_content:0,href:1,checkbox_name:2})}}function gt(t){let e,n,l,s,i,c,u;return{c(){e=v("div"),n=new Qe(!1),l=ee("  "),s=v("button"),n.a=l,h(s,"class","delete"),h(e,"id",bt),h(e,"class",i="notification "+t[2]),z(e,"opacity",t[3]),z(e,"position","fixed"),z(e,"bottom","3rem"),z(e,"right","3rem"),z(e,"font-size","1rem"),z(e,"display",t[0])},m(m,o){N(m,e,o),n.m(t[1],e),b(e,l),b(e,s),c||(u=O(s,"click",t[4]),c=!0)},p(m,[o]){o&2&&n.p(m[1]),o&4&&i!==(i="notification "+m[2])&&h(e,"class",i),o&8&&z(e,"opacity",m[3]),(o&8||o&9)&&z(e,"display",m[0])},i:L,o:L,d(m){m&&x(e),c=!1,u()}}}const bt="svelt-notyfycation";function yt(t,e,n){let{text:l="Test text"}=e,{add_class:s="is-warning"}=e,{display:i="none"}=e;const c=()=>{let o;return s.includes("is-danger")||s.includes("is-warning")?o=.5:o=.4,o};let u=c();const m=()=>n(0,i="none");return t.$$set=o=>{"text"in o&&n(1,l=o.text),"add_class"in o&&n(2,s=o.add_class),"display"in o&&n(0,i=o.display)},t.$$.update=()=>{t.$$.dirty&1&&i=="block"&&n(3,u=c())},[i,l,s,u,m]}class vt extends C{constructor(e){super(),q(this,e,yt,gt,P,{text:1,add_class:2,display:0})}}function Ne(t,e,n){const l=t.slice();return l[13]=e[n],l}function kt(t){let e;return{c(){e=v("input"),h(e,"class","input"),h(e,"type",t[13].text),h(e,"name",t[13].name),h(e,"placeholder",t[13].placeholder),h(e,"maxlength",t[13].maxlength)},m(n,l){N(n,e,l)},p:L,d(n){n&&x(e)}}}function wt(t){let e,n,l;return{c(){e=v("input"),h(e,"class","input"),h(e,"type",t[13].text),h(e,"name",t[13].name),h(e,"placeholder",t[13].placeholder),h(e,"maxlength",t[13].maxlength)},m(s,i){N(s,e,i),n||(l=O(e,"input",t[5]),n=!0)},p:L,d(s){s&&x(e),n=!1,l()}}}function Tt(t){let e,n,l;return{c(){e=v("input"),h(e,"class","input"),h(e,"type",t[13].text),h(e,"name",t[13].name),h(e,"placeholder",t[13].placeholder),h(e,"maxlength",t[13].maxlength)},m(s,i){N(s,e,i),n||(l=O(e,"input",t[4]),n=!0)},p:L,d(s){s&&x(e),n=!1,l()}}}function Le(t){let e,n;function l(c,u){return c[13].name=="name"?Tt:c[13].name=="inn"?wt:kt}let i=l(t)(t);return{c(){e=v("div"),n=v("div"),i.c(),h(n,"class","control"),h(e,"class","field")},m(c,u){N(c,e,u),b(e,n),i.m(n,null)},p(c,u){i.p(c,u)},d(c){c&&x(e),i.d()}}}function Et(t){let e,n,l,s,i,c,u,m,o,k,d=j(t[1]),a=[];for(let f=0;f<d.length;f+=1)a[f]=Le(Ne(t,d,f));return{c(){e=v("form");for(let f=0;f<a.length;f+=1)a[f].c();n=S(),l=v("div"),s=v("div"),i=v("button"),c=ee("Сохранить"),u=S(),m=v("div"),m.innerHTML='<button type="reset" class="button is-fullwidth">Очистить</button>',h(i,"type","submit"),h(i,"class","button is-link is-fullwidth"),i.disabled=t[0],h(s,"class","control is-expanded"),h(m,"class","control is-expanded"),h(l,"class","field is-grouped is-grouped-centered"),h(e,"method","post"),h(e,"class","box"),h(e,"id","organizationform")},m(f,p){N(f,e,p);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(e,null);b(e,n),b(e,l),b(l,s),b(s,i),b(i,c),b(l,u),b(l,m),o||(k=[O(e,"submit",Y(t[2])),O(e,"reset",t[3])],o=!0)},p(f,[p]){if(p&50){d=j(f[1]);let g;for(g=0;g<d.length;g+=1){const _=Ne(f,d,g);a[g]?a[g].p(_,p):(a[g]=Le(_),a[g].c(),a[g].m(e,n))}for(;g<a.length;g+=1)a[g].d(1);a.length=d.length}p&1&&(i.disabled=f[0])},i:L,o:L,d(f){f&&x(e),ie(a,f),o=!1,G(k)}}}const xt="notification";function Nt(t,e,n){const l=_e(),s={add_class:"is-danger",text:"Не удалось сохранить: <br>"},i=[{name:"name",placeholder:"Название организации",type:"text",maxlength:50},{name:"address",placeholder:"Адрес",type:"text",maxlength:256},{name:"inn",placeholder:"ИНН",type:"text",maxlength:10},{name:"kpp",placeholder:"КПП",type:"text",maxlength:9},{name:"ogrn",placeholder:"ОГРН",type:"text",maxlength:15},{name:"bank",placeholder:"Наименование банка",type:"text",maxlength:150},{name:"bik",placeholder:"БИК",type:"text",maxlength:9},{name:"pay_acount",placeholder:"Расчетный счет",type:"text",maxlength:20},{name:"kor_acount",placeholder:"Корр. счет",type:"text",maxlength:20},{name:"phone",placeholder:"Номера телефонов",type:"text",maxlength:40},{name:"email",placeholder:"Email",type:"email",maxlength:254}],c="https://"+document.domain+app.dataset.api,u=document.querySelector("[name=csrfmiddlewaretoken]").value,m=async function(_){try{const y=await fetch(c,{method:"post",headers:{"Content-Type":"application/json","X-CSRFToken":u},body:_});if(y.ok)return l("updatetable"),!0;throw new Error(`${y.status} - ${y.statusText}`)}catch(y){let r={...s};return r.text=y.message,l(xt,r),!1}},o=async _=>{let y=_.currentTarget;const r=new FormData(y);let E=JSON.stringify(Object.fromEntries(r.entries()));await m(E)&&y.reset()},k=()=>{n(6,a=""),n(7,p="")};let d=!0,a="";function f(_){n(6,a=_.currentTarget.value)}let p="";function g(_){n(7,p=_.currentTarget.value)}return t.$$.update=()=>{t.$$.dirty&192&&n(0,d=!(p.length==10&&a.length>3))},[d,i,o,k,f,g,a,p]}class Lt extends C{constructor(e){super(),q(this,e,Nt,Et,P,{})}}function St(t){let e,n,l,s,i,c,u,m,o;const k=t[4].default,d=Re(k,t,t[3],null);return{c(){e=v("div"),n=v("div"),l=S(),s=v("div"),d&&d.c(),i=S(),c=v("button"),h(n,"class","modal-background"),h(s,"class","modal-content"),h(s,"style",t[2]),h(c,"class","modal-close is-large"),h(c,"aria-label","close"),h(e,"class","modal"),h(e,"style",t[1]),oe(e,"is-active",t[0])},m(a,f){N(a,e,f),b(e,n),b(e,l),b(e,s),d&&d.m(s,null),b(e,i),b(e,c),u=!0,m||(o=O(c,"click",t[5]),m=!0)},p(a,[f]){d&&d.p&&(!u||f&8)&&Je(d,k,a,a[3],u?Xe(k,a[3],f,null):Ke(a[3]),null),(!u||f&4)&&h(s,"style",a[2]),(!u||f&2)&&h(e,"style",a[1]),(!u||f&1)&&oe(e,"is-active",a[0])},i(a){u||(H(d,a),u=!0)},o(a){D(d,a),u=!1},d(a){a&&x(e),d&&d.d(a),m=!1,o()}}}function Mt(t,e,n){let{$$slots:l={},$$scope:s}=e,{active:i=!1}=e,{modal_style:c=""}=e,{content_style:u=""}=e;const m=()=>n(0,i=!1);return t.$$set=o=>{"active"in o&&n(0,i=o.active),"modal_style"in o&&n(1,c=o.modal_style),"content_style"in o&&n(2,u=o.content_style),"$$scope"in o&&n(3,s=o.$$scope)},[i,c,u,s,l,m]}class Ot extends C{constructor(e){super(),q(this,e,Mt,St,P,{active:0,modal_style:1,content_style:2})}}function Pt(t){let e,n;return e=new Lt({}),e.$on("updatetable",t[4]),e.$on("notification",t[5]),{c(){V(e.$$.fragment)},m(l,s){I(e,l,s),n=!0},p:L,i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function $t(t){let e,n,l,s,i,c,u,m,o,k,d,a,f,p,g,_,y,r,E,T;function te(w){t[6](w)}let he={$$slots:{default:[Pt]},$$scope:{ctx:t}};t[2]!==void 0&&(he.active=t[2]),e=new Ot({props:he}),A.push(()=>K(e,"active",te));function je(w){t[7](w)}let me={uriPath:"organizations"};t[1]!==void 0&&(me.disabled=t[1]),o=new _t({props:me}),A.push(()=>K(o,"disabled",je)),o.$on("notification",t[5]),o.$on("updatetable",t[4]);function He(w){t[9](w)}function qe(w){t[10](w)}function Ce(w){t[11](w)}let ne={};return t[0].dispaly!==void 0&&(ne.display=t[0].dispaly),t[0].text!==void 0&&(ne.text=t[0].text),t[0].add_class!==void 0&&(ne.add_class=t[0].add_class),p=new vt({props:ne}),A.push(()=>K(p,"display",He)),A.push(()=>K(p,"text",qe)),A.push(()=>K(p,"add_class",Ce)),{c(){V(e.$$.fragment),l=S(),s=v("h4"),s.textContent="Список организаций",i=S(),c=v("form"),u=v("div"),m=S(),V(o.$$.fragment),d=S(),a=v("button"),a.innerHTML='<i class="fa-light fa-plus"></i>',f=S(),V(p.$$.fragment),h(s,"class","title is-4 pl-4 pt-5"),h(u,"id",t[3]),h(a,"class","button is-link is-outlined mt-1")},m(w,M){I(e,w,M),N(w,l,M),N(w,s,M),N(w,i,M),N(w,c,M),b(c,u),b(c,m),I(o,c,null),b(c,d),b(c,a),N(w,f,M),I(p,w,M),r=!0,E||(T=O(a,"click",Y(t[8])),E=!0)},p(w,[M]){const ae={};M&32768&&(ae.$$scope={dirty:M,ctx:w}),!n&&M&4&&(n=!0,ae.active=w[2],J(()=>n=!1)),e.$set(ae);const pe={};!k&&M&2&&(k=!0,pe.disabled=w[1],J(()=>k=!1)),o.$set(pe);const le={};!g&&M&1&&(g=!0,le.display=w[0].dispaly,J(()=>g=!1)),!_&&M&1&&(_=!0,le.text=w[0].text,J(()=>_=!1)),!y&&M&1&&(y=!0,le.add_class=w[0].add_class,J(()=>y=!1)),p.$set(le)},i(w){r||(H(e.$$.fragment,w),H(o.$$.fragment,w),H(p.$$.fragment,w),r=!0)},o(w){D(e.$$.fragment,w),D(o.$$.fragment,w),D(p.$$.fragment,w),r=!1},d(w){w&&(x(l),x(s),x(i),x(c),x(f)),F(e,w),F(o),F(p,w),E=!1,T()}}}const zt="/organization/";function At(t,e){return t.id<e.id?1:t.id>e.id?-1:0}function jt(t,e,n){const l={text:"",dispaly:"none",add_class:""};let s=!0,i=!1;const c="https://"+document.domain+app.dataset.api;let u,m=[];const o="tablegen_"+Math.round(Math.random()*1e4),k=async()=>{m=await fetch(c).then(r=>r.json()),u==null||u.$destroy(),u=new pt({target:document.getElementById(o),props:{table_content:m.sort(At),href:zt,checkbox_name:"id"}})},d=r=>{n(0,l.text=r.detail.text,l),n(0,l.add_class=r.detail.add_class,l),n(0,l.dispaly="block",l),setTimeout(()=>{n(0,l.dispaly="none",l)},1e4)};We(k),document.querySelector("#navbar-item-organizations").classList.add("is-active");function a(r){i=r,n(2,i)}function f(r){s=r,n(1,s)}const p=()=>n(2,i=!0);function g(r){t.$$.not_equal(l.dispaly,r)&&(l.dispaly=r,n(0,l))}function _(r){t.$$.not_equal(l.text,r)&&(l.text=r,n(0,l))}function y(r){t.$$.not_equal(l.add_class,r)&&(l.add_class=r,n(0,l))}return[l,s,i,o,k,d,a,f,p,g,_,y]}class Ht extends C{constructor(e){super(),q(this,e,jt,$t,P,{})}}function qt(t){let e,n;return e=new Ht({}),{c(){V(e.$$.fragment)},m(l,s){I(e,l,s),n=!0},p:L,i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}class Ct extends C{constructor(e){super(),q(this,e,null,qt,P,{})}}new Ct({target:document.getElementById("app")});
